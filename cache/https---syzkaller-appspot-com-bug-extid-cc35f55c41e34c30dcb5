

<!doctype html>
<html>
<head>
	
	<link rel="stylesheet" href="/static/style.css"/>
	<script src="/static/common.js"></script>
	
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116117799-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() { dataLayer.push(arguments); }
			gtag('js', new Date());
			gtag('config', 'UA-116117799-1');
		</script>
	

	<title>INFO: task hung in extent_write_cache_pages</title>
</head>
<body>
	
	<header id="topbar">
		<table class="position_table">
			<tr>
				<td>
					<h1><a href="/upstream">syzbot</a></h1>
				</td>
				<td class="namespace_td">
					<select class="namespace" onchange="window.location.href = '/' + this.value + '';">
						
							<option value="android-5-10" >Android 5.10</option>
							<option value="android-5-15" >Android 5.15</option>
							<option value="android-54" >Android 5.4</option>
							<option value="android-6-1" >Android 6.1</option>
							<option value="freebsd" >FreeBSD</option>
							<option value="upstream" selected="1">Linux</option>
							<option value="linux-5.15" >Linux 5.15</option>
							<option value="linux-6.1" >Linux 6.1</option>
							<option value="netbsd" >NetBSD</option>
							<option value="openbsd" >OpenBSD</option>
							<option value="gvisor" >gVisor</option></select>
				</td>
				<td class="search">
					
					
						<a href="https://syzkaller.appspot.com/_ah/conflogin?continue=https://syzkaller.appspot.com/bug%3Fextid%3Dcc35f55c41e34c30dcb5">sign-in</a> |
					
					<a href="https://groups.google.com/forum/#!forum/syzkaller" target="_blank">mailing list</a> |
					<a href="https://github.com/google/syzkaller" target="_blank">source</a> |
					<a href="https://github.com/google/syzkaller/blob/master/docs/syzbot.md" target="_blank">docs</a>
				</td>
			</tr>
		</table>
		
		<div class="navigation">
			<div class="navigation_tab">
				<a href='/upstream'><span style="color:DeepPink;">üêû</span> Open [1655]</a>
			</div>

			
			<div class="navigation_tab">
				<a href='/upstream/subsystems'><span style="color:DeepPink;">‚â°</span> Subsystems</a>
			</div>
			

			<div class="navigation_tab">
				<a href='/upstream/fixed'><span style="color:ForestGreen;">üêû</span> Fixed [6082]</a>
			</div>

			<div class="navigation_tab" href='/upstream/invalid'>
				<a href='/upstream/invalid'><span style="color:RoyalBlue;">üêû</span> Invalid [15106]</a>
			</div>

			
			<div class="navigation_tab">
				<a href='/upstream/backports'><span style="color:ForestGreen;">‚¨á</span> Missing Backports [157]</a>
			</div>
			

			<div class="navigation_tab">
				<a href='/upstream/graph/crashes'><span style="color:ForestGreen;">‚â°</span> Crashes</a>
			</div>

			<div class="dropdown navigation_tab">
				<button class="dropbtn"><span style="color:DarkOrange;">üìà</span>Graphs</button>
				<div class="dropdown-content">
					<a class="navigation_tab"
						href='/upstream/graph/bugs'>Kernel&nbsp;Health</a>
					<a class="navigation_tab"
						href='/upstream/graph/found-bugs'>Bugs/Month</a>
					<a class="navigation_tab"
						href='/upstream/graph/lifetimes'>Bug&nbsp;Lifetimes</a>
					<a class="navigation_tab"
						href='/upstream/graph/fuzzing'>Fuzzing</a>
				</div>
			</div>

			
			<div class="dropdown navigation_tab">
				<button class="dropbtn"><span style="color:DarkOrange;">üìà</span>Coverage</button>
				<div class="dropdown-content">
					<a class="navigation_tab"
						href="/upstream/graph/coverage?period=quarter">Total</a>
					<a class="navigation_tab"
						href="/upstream/coverage?period=month">Repo&nbsp;Heatmap</a>
					
						<a class="navigation_tab"
							href="/upstream/coverage/subsystems?period=month">Subsystems&nbsp;Heatmap</a>
					
				</div>
			</div>
			
			
			<div class="navigation_tab navigation_right">
				<a href='mailto:syzkaller@googlegroups.com'><span style="color:ForestGreen;">üí¨</span> Send us feedback</a>
			</div>
			
		</div>
		
	</header>
	<br>


	<b>INFO: task hung in extent_write_cache_pages</b><br><br>
	Status: <a href="https://groups.google.com/d/msgid/syzkaller-bugs/00000000000032dc7305f2a66f46%40google.com">fixed on 2023/06/08 14:41</a><br>
	
		
			Subsystems: 
				<span class="bug-label"><a href="/upstream/s/btrfs">btrfs</a></span>
		<br>
		
	<a href="https://github.com/google/syzkaller/blob/master/docs/syzbot.md#labels">[Documentation on labels]</a><br>
	
	
	Reported-by: syzbot&#43;cc35f55c41e34c30dcb5@syzkaller.appspotmail.com<br>
	
		<b>Fix commit:</b> 

	<span class="mono">
		
			519b7e13b5ae
		
		<a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=519b7e13b5ae8dd38da1e52275705343be6bb508">btrfs: lock the inode in shared mode before starting fiemap</a>
	</span>

<br>
		
	
	First crash: 812d, last: 668d<br>
	
	<div>
		<div class="bug-bisection-info">

	
	
	
		
			<b>Cause bisection: failed</b>
		
		<b>(<a href="https://syzkaller.appspot.com/x/error.txt?x=1520f0da480000">error log</a>, <a href="https://syzkaller.appspot.com/x/bisect.txt?x=1120f0da480000">bisect log</a>)</b><br>
	
	

	
	&nbsp;&nbsp;
	

</div>
		
		<div class="bug-bisection-stop"></div>
	</div>

	
	<div class="collapsible collapsible-show">
		<div class="head">
			<span class="show-icon">&#9654;</span>
			<span class="hide-icon">&#9660;</span>
			<span>Discussions (1)</span>
		</div>
		<div class="content">
			
			
			

<table class="list_table">
	<thead>
	<tr>
		<th>Title</th>
		<th>Replies (including bot)</th>
		<th>Last reply</th>
	</tr>
	</thead>
	<tbody>
	
		<tr>
			<td><a href="https://lore.kernel.org/all/00000000000032dc7305f2a66f46@google.com/T/">[syzbot] [btrfs?] INFO: task hung in extent_write_cache_pages</a></td>
			<td class="stat">0 (1)</td>
			<td class="stat">2023/01/19 23:38</td>
		</tr>
	
	</tbody>
</table>


			
			
		</div>
	</div>
	

	
	<br><b>Sample crash report:</b><br>
	<div id="crash_div"><pre>INFO: task kworker/u4:3:46 blocked for more than 143 seconds.
      Not tainted 6.3.0-syzkaller-13505-g17784de648be #0
&#34;echo 0 &gt; /proc/sys/kernel/hung_task_timeout_secs&#34; disables this message.
task:kworker/u4:3    state:D stack:25320 pid:46    ppid:2      flags:0x00004000
Workqueue: writeback wb_workfn (flush-btrfs-251)
Call Trace:
 &lt;TASK&gt;
 context_switch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/sched/core.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n5343'>kernel/sched/core.c:5343</a> [inline]
 __schedule+0xc9a/0x5880 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/sched/core.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n6669'>kernel/sched/core.c:6669</a>
 schedule+0xde/0x1a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/sched/core.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n6745'>kernel/sched/core.c:6745</a>
 io_schedule+0xbe/0x130 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/sched/core.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n8979'>kernel/sched/core.c:8979</a>
 folio_wait_bit_common+0x394/0x9b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/filemap.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1301'>mm/filemap.c:1301</a>
 folio_lock <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/pagemap.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n955'>include/linux/pagemap.h:955</a> [inline]
 extent_write_cache_pages+0x657/0xd10 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/extent_io.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2457'>fs/btrfs/extent_io.c:2457</a>
 extent_writepages+0x20c/0x4a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/extent_io.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2599'>fs/btrfs/extent_io.c:2599</a>
 do_writepages+0x1a8/0x640 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/page-writeback.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2551'>mm/page-writeback.c:2551</a>
 __writeback_single_inode+0x121/0xdb0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/fs-writeback.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1603'>fs/fs-writeback.c:1603</a>
 writeback_sb_inodes+0x54d/0xe70 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/fs-writeback.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1894'>fs/fs-writeback.c:1894</a>
 __writeback_inodes_wb+0xc6/0x280 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/fs-writeback.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1965'>fs/fs-writeback.c:1965</a>
 wb_writeback+0x7e9/0xa50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/fs-writeback.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2070'>fs/fs-writeback.c:2070</a>
 wb_check_background_flush <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/fs-writeback.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2136'>fs/fs-writeback.c:2136</a> [inline]
 wb_do_writeback <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/fs-writeback.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2224'>fs/fs-writeback.c:2224</a> [inline]
 wb_workfn+0x8b0/0xfc0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/fs-writeback.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2251'>fs/fs-writeback.c:2251</a>
 process_one_work+0x99a/0x15e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/workqueue.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2405'>kernel/workqueue.c:2405</a>
 worker_thread+0x67d/0x10c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/workqueue.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2552'>kernel/workqueue.c:2552</a>
 kthread+0x344/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/kthread.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n379'>kernel/kthread.c:379</a>
 ret_from_fork+0x1f/0x30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/entry_64.S?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n308'>arch/x86/entry/entry_64.S:308</a>
 &lt;/TASK&gt;
INFO: task syz-executor945:12203 blocked for more than 143 seconds.
      Not tainted 6.3.0-syzkaller-13505-g17784de648be #0
&#34;echo 0 &gt; /proc/sys/kernel/hung_task_timeout_secs&#34; disables this message.
task:syz-executor945 state:D stack:25128 pid:12203 ppid:5046   flags:0x00000004
Call Trace:
 &lt;TASK&gt;
 context_switch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/sched/core.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n5343'>kernel/sched/core.c:5343</a> [inline]
 __schedule+0xc9a/0x5880 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/sched/core.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n6669'>kernel/sched/core.c:6669</a>
 schedule+0xde/0x1a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/sched/core.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n6745'>kernel/sched/core.c:6745</a>
 wait_on_state <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/extent-io-tree.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n707'>fs/btrfs/extent-io-tree.c:707</a> [inline]
 wait_extent_bit+0x56e/0x670 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/extent-io-tree.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n751'>fs/btrfs/extent-io-tree.c:751</a>
 lock_extent+0x120/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/extent-io-tree.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1742'>fs/btrfs/extent-io-tree.c:1742</a>
 find_lock_delalloc_range+0x27e/0x700 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/extent_io.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n479'>fs/btrfs/extent_io.c:479</a>
 writepage_delalloc+0x16a/0x3e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/extent_io.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1323'>fs/btrfs/extent_io.c:1323</a>
 __extent_writepage+0xf8d/0x15e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/extent_io.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1609'>fs/btrfs/extent_io.c:1609</a>
 extent_write_cache_pages+0x465/0xd10 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/extent_io.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2477'>fs/btrfs/extent_io.c:2477</a>
 extent_writepages+0x20c/0x4a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/extent_io.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2599'>fs/btrfs/extent_io.c:2599</a>
 do_writepages+0x1a8/0x640 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/page-writeback.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2551'>mm/page-writeback.c:2551</a>
 filemap_fdatawrite_wbc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/filemap.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n390'>mm/filemap.c:390</a> [inline]
 filemap_fdatawrite_wbc+0x147/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/filemap.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n380'>mm/filemap.c:380</a>
 __filemap_fdatawrite_range+0xb8/0xf0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/filemap.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n423'>mm/filemap.c:423</a>
 btrfs_fdatawrite_range+0x4a/0x110 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/file.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n3862'>fs/btrfs/file.c:3862</a>
 btrfs_direct_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/file.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1603'>fs/btrfs/file.c:1603</a> [inline]
 btrfs_do_write_iter+0xf24/0x1470 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/file.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1674'>fs/btrfs/file.c:1674</a>
 call_write_iter <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/fs.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1868'>include/linux/fs.h:1868</a> [inline]
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/read_write.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n491'>fs/read_write.c:491</a> [inline]
 vfs_write+0x945/0xd50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/read_write.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n584'>fs/read_write.c:584</a>
 ksys_write+0x12b/0x250 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/read_write.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n637'>fs/read_write.c:637</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/common.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n50'>arch/x86/entry/common.c:50</a> [inline]
 do_syscall_64+0x39/0xb0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/common.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n80'>arch/x86/entry/common.c:80</a>
 entry_SYSCALL_64_after_hwframe+0x63/0xcd
RIP: 0033:0x7f2ec96df9d9
RSP: 002b:00007f2ec968b2f8 EFLAGS: 00000246 ORIG_RAX: 0000000000000001
RAX: ffffffffffffffda RBX: 00007f2ec97697a0 RCX: 00007f2ec96df9d9
RDX: 0000000000000090 RSI: 0000000020000000 RDI: 0000000000000006
RBP: 00007f2ec97361d0 R08: 0000000000000000 R09: 0000000000000000
R10: 0000000000000000 R11: 0000000000000246 R12: 61635f65646f6e69
R13: 65646f7475616f6e R14: 7261637369646f6e R15: 00007f2ec97697a8
 &lt;/TASK&gt;
INFO: task syz-executor945:12230 blocked for more than 144 seconds.
      Not tainted 6.3.0-syzkaller-13505-g17784de648be #0
&#34;echo 0 &gt; /proc/sys/kernel/hung_task_timeout_secs&#34; disables this message.
task:syz-executor945 state:D stack:26544 pid:12230 ppid:5046   flags:0x00000004
Call Trace:
 &lt;TASK&gt;
 context_switch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/sched/core.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n5343'>kernel/sched/core.c:5343</a> [inline]
 __schedule+0xc9a/0x5880 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/sched/core.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n6669'>kernel/sched/core.c:6669</a>
 schedule+0xde/0x1a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/sched/core.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n6745'>kernel/sched/core.c:6745</a>
 io_schedule+0xbe/0x130 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/sched/core.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n8979'>kernel/sched/core.c:8979</a>
 folio_wait_bit_common+0x394/0x9b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/filemap.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1301'>mm/filemap.c:1301</a>
 lock_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/pagemap.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n976'>include/linux/pagemap.h:976</a> [inline]
 btrfs_page_mkwrite+0x77f/0x11a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/inode.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n8117'>fs/btrfs/inode.c:8117</a>
 do_page_mkwrite+0x1a1/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/memory.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2931'>mm/memory.c:2931</a>
 wp_page_shared <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/memory.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n3280'>mm/memory.c:3280</a> [inline]
 do_wp_page+0x356/0x33c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/memory.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n3362'>mm/memory.c:3362</a>
 handle_pte_fault <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/memory.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n4964'>mm/memory.c:4964</a> [inline]
 __handle_mm_fault+0x1635/0x41c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/memory.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n5089'>mm/memory.c:5089</a>
 handle_mm_fault+0x2af/0x9f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/memory.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n5243'>mm/memory.c:5243</a>
 do_user_addr_fault+0x51a/0x1210 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/mm/fault.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1440'>arch/x86/mm/fault.c:1440</a>
 handle_page_fault <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/mm/fault.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1534'>arch/x86/mm/fault.c:1534</a> [inline]
 exc_page_fault+0x98/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/mm/fault.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1590'>arch/x86/mm/fault.c:1590</a>
 asm_exc_page_fault+0x26/0x30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/include/asm/idtentry.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n570'>arch/x86/include/asm/idtentry.h:570</a>
RIP: 0010:rep_movs_alternative+0x33/0xb0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/lib/copy_user_64.S?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n56'>arch/x86/lib/copy_user_64.S:56</a>
Code: 46 83 f9 08 73 21 85 c9 74 0f 8a 06 88 07 48 ff c7 48 ff c6 48 ff c9 75 f1 c3 66 66 2e 0f 1f 84 00 00 00 00 00 66 90 48 8b 06 &lt;48&gt; 89 07 48 83 c6 08 48 83 c7 08 83 e9 08 74 df 83 f9 08 73 e8 eb
RSP: 0018:ffffc9000ab87728 EFLAGS: 00050206
RAX: 0000000000000000 RBX: 0000000000000038 RCX: 0000000000000038
RDX: fffff52001570efb RSI: ffffc9000ab877a0 RDI: 0000000020000120
RBP: 0000000020000120 R08: 0000000000000000 R09: ffffc9000ab877d7
R10: fffff52001570efa R11: 0000000000094001 R12: ffffc9000ab877a0
R13: 0000000020000158 R14: 0000000000000000 R15: ffffc9000ab877a0
 copy_user_generic <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/include/asm/uaccess_64.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n112'>arch/x86/include/asm/uaccess_64.h:112</a> [inline]
 raw_copy_to_user <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/include/asm/uaccess_64.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n133'>arch/x86/include/asm/uaccess_64.h:133</a> [inline]
 _copy_to_user <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/lib/usercopy.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n41'>lib/usercopy.c:41</a> [inline]
 _copy_to_user+0xab/0xc0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/lib/usercopy.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n34'>lib/usercopy.c:34</a>
 copy_to_user <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/uaccess.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n191'>include/linux/uaccess.h:191</a> [inline]
 fiemap_fill_next_extent+0x217/0x370 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n144'>fs/ioctl.c:144</a>
 emit_fiemap_extent+0x18e/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/extent_io.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2846'>fs/btrfs/extent_io.c:2846</a>
 fiemap_process_hole+0x516/0x610 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/extent_io.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n3104'>fs/btrfs/extent_io.c:3104</a>
 extent_fiemap+0x123b/0x1950 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/extent_io.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n3319'>fs/btrfs/extent_io.c:3319</a>
 btrfs_fiemap+0xe9/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/inode.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n7799'>fs/btrfs/inode.c:7799</a>
 ioctl_fiemap <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n219'>fs/ioctl.c:219</a> [inline]
 do_vfs_ioctl+0x466/0x1670 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n810'>fs/ioctl.c:810</a>
 __do_sys_ioctl <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n868'>fs/ioctl.c:868</a> [inline]
 __se_sys_ioctl <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n856'>fs/ioctl.c:856</a> [inline]
 __x64_sys_ioctl+0x10c/0x210 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n856'>fs/ioctl.c:856</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/common.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n50'>arch/x86/entry/common.c:50</a> [inline]
 do_syscall_64+0x39/0xb0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/common.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n80'>arch/x86/entry/common.c:80</a>
 entry_SYSCALL_64_after_hwframe+0x63/0xcd
RIP: 0033:0x7f2ec96df9d9
RSP: 002b:00007f2ec226a2f8 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: ffffffffffffffda RBX: 00007f2ec97697b0 RCX: 00007f2ec96df9d9
RDX: 0000000020000100 RSI: 00000000c020660b RDI: 0000000000000005
RBP: 00007f2ec97361d0 R08: 00007f2ec226a700 R09: 0000000000000000
R10: 00007f2ec226a700 R11: 0000000000000246 R12: 61635f65646f6e69
R13: 65646f7475616f6e R14: 7261637369646f6e R15: 00007f2ec97697b8
 &lt;/TASK&gt;

Showing all locks held in the system:
1 lock held by rcu_tasks_kthre/13:
 #0: ffffffff8c798430 (rcu_tasks.tasks_gp_mutex){+.+.}-{3:3}, at: rcu_tasks_one_gp+0x31/0xd80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/rcu/tasks.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n518'>kernel/rcu/tasks.h:518</a>
1 lock held by rcu_tasks_trace/14:
 #0: ffffffff8c798130 (rcu_tasks_trace.tasks_gp_mutex){+.+.}-{3:3}, at: rcu_tasks_one_gp+0x31/0xd80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/rcu/tasks.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n518'>kernel/rcu/tasks.h:518</a>
1 lock held by khungtaskd/28:
 #0: ffffffff8c799040 (rcu_read_lock){....}-{1:2}, at: debug_show_all_locks+0x55/0x340 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/locking/lockdep.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n6545'>kernel/locking/lockdep.c:6545</a>
3 locks held by kworker/u4:3/46:
 #0: ffff888141a5d138 ((wq_completion)writeback){+.+.}-{0:0}, at: arch_atomic64_set <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/include/asm/atomic64_64.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n34'>arch/x86/include/asm/atomic64_64.h:34</a> [inline]
 #0: ffff888141a5d138 ((wq_completion)writeback){+.+.}-{0:0}, at: arch_atomic_long_set <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/atomic/atomic-long.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n41'>include/linux/atomic/atomic-long.h:41</a> [inline]
 #0: ffff888141a5d138 ((wq_completion)writeback){+.+.}-{0:0}, at: atomic_long_set <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/atomic/atomic-instrumented.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1324'>include/linux/atomic/atomic-instrumented.h:1324</a> [inline]
 #0: ffff888141a5d138 ((wq_completion)writeback){+.+.}-{0:0}, at: set_work_data <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/workqueue.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n643'>kernel/workqueue.c:643</a> [inline]
 #0: ffff888141a5d138 ((wq_completion)writeback){+.+.}-{0:0}, at: set_work_pool_and_clear_pending <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/workqueue.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n670'>kernel/workqueue.c:670</a> [inline]
 #0: ffff888141a5d138 ((wq_completion)writeback){+.+.}-{0:0}, at: process_one_work+0x883/0x15e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/workqueue.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2376'>kernel/workqueue.c:2376</a>
 #1: ffffc90000b77db0 ((work_completion)(&amp;(&amp;wb-&gt;dwork)-&gt;work)){+.+.}-{0:0}, at: process_one_work+0x8b7/0x15e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/workqueue.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2380'>kernel/workqueue.c:2380</a>
 #2: ffff8880279c80e0 (&amp;type-&gt;s_umount_key#42){++++}-{3:3}, at: trylock_super+0x21/0x110 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/super.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n414'>fs/super.c:414</a>
2 locks held by getty/4756:
 #0: ffff888028aff098 (&amp;tty-&gt;ldisc_sem){++++}-{0:0}, at: tty_ldisc_ref_wait+0x26/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/tty/tty_ldisc.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n243'>drivers/tty/tty_ldisc.c:243</a>
 #1: ffffc900015a02f0 (&amp;ldata-&gt;atomic_read_lock){+.+.}-{3:3}, at: n_tty_read+0xef4/0x13e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/tty/n_tty.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2176'>drivers/tty/n_tty.c:2176</a>
2 locks held by syz-executor945/12203:
 #0: ffff88802a0a1268 (&amp;f-&gt;f_pos_lock){+.+.}-{3:3}, at: __fdget_pos+0xe7/0x100 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/file.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1047'>fs/file.c:1047</a>
 #1: ffff8880279c8460 (sb_writers#9){.+.+}-{0:0}, at: ksys_write+0x12b/0x250 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/read_write.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n637'>fs/read_write.c:637</a>
4 locks held by syz-executor945/12230:
 #0: ffff888077695058 (&amp;sb-&gt;s_type-&gt;i_mutex_key#15){++++}-{3:3}, at: inode_lock_shared <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/fs.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n785'>include/linux/fs.h:785</a> [inline]
 #0: ffff888077695058 (&amp;sb-&gt;s_type-&gt;i_mutex_key#15){++++}-{3:3}, at: btrfs_inode_lock+0xd8/0xf0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/inode.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n170'>fs/btrfs/inode.c:170</a>
 #1: ffff888076635268 (&amp;mm-&gt;mmap_lock){++++}-{3:3}, at: mmap_read_trylock <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/mmap_lock.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n161'>include/linux/mmap_lock.h:161</a> [inline]
 #1: ffff888076635268 (&amp;mm-&gt;mmap_lock){++++}-{3:3}, at: do_user_addr_fault+0x448/0x1210 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/mm/fault.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1381'>arch/x86/mm/fault.c:1381</a>
 #2: ffff8880279c8558 (sb_pagefaults){.+.+}-{0:0}, at: do_page_mkwrite+0x1a1/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/memory.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n2931'>mm/memory.c:2931</a>
 #3: ffff888077694ee0 (&amp;ei-&gt;i_mmap_lock){++++}-{3:3}, at: btrfs_page_mkwrite+0x6eb/0x11a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/btrfs/inode.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n8116'>fs/btrfs/inode.c:8116</a>
3 locks held by syz-executor945/15692:

=============================================

NMI backtrace for cpu 0
CPU: 0 PID: 28 Comm: khungtaskd Not tainted 6.3.0-syzkaller-13505-g17784de648be #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 04/14/2023
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/lib/dump_stack.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n88'>lib/dump_stack.c:88</a> [inline]
 dump_stack_lvl+0xd9/0x150 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/lib/dump_stack.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n106'>lib/dump_stack.c:106</a>
 nmi_cpu_backtrace+0x29c/0x350 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/lib/nmi_backtrace.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n113'>lib/nmi_backtrace.c:113</a>
 nmi_trigger_cpumask_backtrace+0x2a4/0x300 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/lib/nmi_backtrace.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n62'>lib/nmi_backtrace.c:62</a>
 trigger_all_cpu_backtrace <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/nmi.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n148'>include/linux/nmi.h:148</a> [inline]
 check_hung_uninterruptible_tasks <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/hung_task.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n222'>kernel/hung_task.c:222</a> [inline]
 watchdog+0xe16/0x1090 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/hung_task.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n379'>kernel/hung_task.c:379</a>
 kthread+0x344/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/kthread.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n379'>kernel/kthread.c:379</a>
 ret_from_fork+0x1f/0x30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/entry_64.S?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n308'>arch/x86/entry/entry_64.S:308</a>
 &lt;/TASK&gt;
Sending NMI from CPU 0 to CPUs 1:
NMI backtrace for cpu 1
CPU: 1 PID: 15689 Comm: syz-executor945 Not tainted 6.3.0-syzkaller-13505-g17784de648be #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 04/14/2023
RIP: 0010:native_apic_mem_write+0xc/0x10 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/include/asm/apic.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n108'>arch/x86/include/asm/apic.h:108</a>
Code: 31 d2 bf 30 08 00 00 e8 12 f6 0a 03 4c 89 e0 41 5c c3 66 2e 0f 1f 84 00 00 00 00 00 66 90 f3 0f 1e fa 89 ff 89 b7 00 c0 5f ff &lt;c3&gt; 0f 1f 00 f3 0f 1e fa 48 b8 00 00 00 00 00 fc ff df 53 89 fb 48
RSP: 0018:ffffc900001e0fd0 EFLAGS: 00000046
RAX: dffffc0000000000 RBX: ffffffff8c131e60 RCX: 1ffff11017325102
RDX: 1ffffffff18263cc RSI: 0000000000000000 RDI: 00000000000000b0
RBP: 0000000000000000 R08: 0000014dff6d7ab8 R09: ffffffff8e7a7017
R10: fffffbfff1cf4e02 R11: ffffc900001e0ff8 R12: 0000000000000000
R13: 0000000000000000 R14: 0000000000000000 R15: 0000000000000000
FS:  00007f2ec968b700(0000) GS:ffff8880b9900000(0000) knlGS:0000000000000000
CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00007f2ec226a000 CR3: 0000000022a51000 CR4: 0000000000350ee0
Call Trace:
 &lt;IRQ&gt;
 apic_eoi <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/include/asm/apic.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n398'>arch/x86/include/asm/apic.h:398</a> [inline]
 ack_APIC_irq <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/include/asm/apic.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n444'>arch/x86/include/asm/apic.h:444</a> [inline]
 __sysvec_apic_timer_interrupt+0x7d/0x430 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kernel/apic/apic.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1110'>arch/x86/kernel/apic/apic.c:1110</a>
 sysvec_apic_timer_interrupt+0x92/0xc0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kernel/apic/apic.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1106'>arch/x86/kernel/apic/apic.c:1106</a>
 &lt;/IRQ&gt;
 &lt;TASK&gt;
 asm_sysvec_apic_timer_interrupt+0x1a/0x20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/include/asm/idtentry.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n645'>arch/x86/include/asm/idtentry.h:645</a>
RIP: 0010:__raw_spin_unlock_irq <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/spinlock_api_smp.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n160'>include/linux/spinlock_api_smp.h:160</a> [inline]
RIP: 0010:_raw_spin_unlock_irq+0x29/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/locking/spinlock.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n202'>kernel/locking/spinlock.c:202</a>
Code: 90 f3 0f 1e fa 55 48 8b 74 24 08 48 89 fd 48 83 c7 18 e8 ea 34 53 f7 48 89 ef e8 12 a3 53 f7 e8 2d 2f 78 f7 fb bf 01 00 00 00 &lt;e8&gt; 72 77 45 f7 65 8b 05 93 09 f1 75 85 c0 74 02 5d c3 e8 60 d7 ed
RSP: 0018:ffffc9000d08f8d0 EFLAGS: 00000206
RAX: 0000000000012c39 RBX: 0000000000000001 RCX: 1ffffffff22a5c16
RDX: 0000000000000000 RSI: 0000000000000002 RDI: 0000000000000001
RBP: ffff88806c751640 R08: 0000000000000001 R09: ffffffff91527d0f
R10: 0000000000000001 R11: 0000000000000000 R12: ffff88806c751638
R13: ffff88806c751638 R14: ffff88806c751640 R15: 000000000000000a
 spin_unlock_irq <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/spinlock.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n400'>include/linux/spinlock.h:400</a> [inline]
 filemap_remove_folio+0x164/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/filemap.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n258'>mm/filemap.c:258</a>
 truncate_inode_folio+0x4c/0x70 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/truncate.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n196'>mm/truncate.c:196</a>
 shmem_undo_range+0x333/0x1130 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/shmem.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n950'>mm/shmem.c:950</a>
 shmem_truncate_range <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/shmem.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1049'>mm/shmem.c:1049</a> [inline]
 shmem_evict_inode+0x32f/0xb60 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/shmem.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1164'>mm/shmem.c:1164</a>
 evict+0x2ed/0x6b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/inode.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n665'>fs/inode.c:665</a>
 iput_final <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/inode.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1747'>fs/inode.c:1747</a> [inline]
 iput.part.0+0x50a/0x740 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/inode.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1773'>fs/inode.c:1773</a>
 iput+0x5c/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/inode.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n1763'>fs/inode.c:1763</a>
 dentry_unlink_inode+0x2b1/0x460 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/dcache.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n401'>fs/dcache.c:401</a>
 __dentry_kill+0x3c0/0x640 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/dcache.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n607'>fs/dcache.c:607</a>
 dentry_kill <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/dcache.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n733'>fs/dcache.c:733</a> [inline]
 dput+0x865/0xe10 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/dcache.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n913'>fs/dcache.c:913</a>
 __fput+0x3cc/0xa90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/file_table.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n329'>fs/file_table.c:329</a>
 task_work_run+0x16f/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/task_work.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n179'>kernel/task_work.c:179</a>
 resume_user_mode_work <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/resume_user_mode.h?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n49'>include/linux/resume_user_mode.h:49</a> [inline]
 exit_to_user_mode_loop <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/entry/common.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n171'>kernel/entry/common.c:171</a> [inline]
 exit_to_user_mode_prepare+0x210/0x240 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/entry/common.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n204'>kernel/entry/common.c:204</a>
 __syscall_exit_to_user_mode_work <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/entry/common.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n286'>kernel/entry/common.c:286</a> [inline]
 syscall_exit_to_user_mode+0x1d/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/entry/common.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n297'>kernel/entry/common.c:297</a>
 do_syscall_64+0x46/0xb0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/common.c?id=17784de648be93b4eef0ef8fe28a16ff04feecc7#n86'>arch/x86/entry/common.c:86</a>
 entry_SYSCALL_64_after_hwframe+0x63/0xcd
RIP: 0033:0x7f2ec96df897
Code: 3c 1c 48 f7 d8 49 39 c4 72 b8 e8 b4 5d 02 00 85 c0 78 bd 48 83 c4 08 4c 89 e0 5b 41 5c c3 0f 1f 44 00 00 b8 10 00 00 00 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b8 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007f2ec968b168 EFLAGS: 00000246 ORIG_RAX: 0000000000000010
RAX: 0000000000000000 RBX: 0000000000000011 RCX: 00007f2ec96df897
RDX: 0000000000000000 RSI: 0000000000004c01 RDI: 0000000000000004
RBP: 0000000000000004 R08: 00007f2ec968b1c0 R09: 00000000000050e9
R10: 0000000000000000 R11: 0000000000000246 R12: 00007f2ec968b6b8
R13: 00007f2ec968b180 R14: 00007f2ec968b1c0 R15: 0000000000000000
 &lt;/TASK&gt;
</pre></div><br>
	

	

<table class="list_table">
	<caption>Crashes (5):</caption>
		<thead>
		<tr>
			<th><a onclick="return sortTable(this, 'Time', textSort, true)" href="#">Time</a></th>
			<th><a onclick="return sortTable(this, 'Kernel', textSort)" href="#">Kernel</a></th>
			<th><a onclick="return sortTable(this, 'Commit', textSort)" href="#">Commit</a></th>
			<th><a onclick="return sortTable(this, 'Syzkaller', textSort)" href="#">Syzkaller</a></th>
			<th><a onclick="return sortTable(this, 'Config', textSort)" href="#">Config</a></th>
			<th><a onclick="return sortTable(this, 'Log', textSort)" href="#">Log</a></th>
			<th><a onclick="return sortTable(this, 'Report', reproSort)" href="#">Report</a></th>
			<th><a onclick="return sortTable(this, 'Syz repro', reproSort)" href="#">Syz repro</a></th>
			<th><a onclick="return sortTable(this, 'C repro', textSort)" href="#">C repro</a></th>
			<th><a onclick="return sortTable(this, 'VM info', textSort)" href="#">VM info</a></th>
			<th><a onclick="return sortTable(this, 'Assets', textSort)" href="#">Assets</a> (<a href="https://github.com/google/syzkaller/blob/master/docs/syzbot_assets.md">help?</a>)</th>
			<th><a onclick="return sortTable(this, 'Manager', textSort)" href="#">Manager</a></th>
			<th><a onclick="return sortTable(this, 'Title', textSort)" href="#">Title</a></th>
		</tr>
		</thead>
		<tbody>
		
		<tr>
			<td class="time">2023/05/08 05:41</td>
			<td class="kernel" title="upstream">upstream</td>
			<td class="tag" title="17784de648be93b4eef0ef8fe28a16ff04feecc7
	2023/05/07 18:04"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=17784de648be93b4eef0ef8fe28a16ff04feecc7">17784de648be</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/90c93c40627cb0ac3c2c7cb99d807fd4c137adcb">90c93c40</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=87f9126139666d37">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=15b5020a280000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=15bb0ed4280000">report</a></td>
			<td class="repro">
				<a href="/text?tag=ReproSyz&amp;x=11a5e4b8280000">syz</a>
				
			</td>
			<td class="repro"><a href="/text?tag=ReproC&amp;x=11acda82280000">C</a></td>
			<td class="repro"></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/9e12caa1c3ec/mount_0.gz">mounted in repro</a>]</span>
			</td>
			<td class="manager">ci-upstream-kasan-gce-root</td>
			<td class="manager">INFO: task hung in extent_write_cache_pages</td>
		</tr>
		
		<tr>
			<td class="time">2023/01/15 23:18</td>
			<td class="kernel" title="upstream">upstream</td>
			<td class="tag" title="7c698440524117dca7534592db0e7f465ae4d0bb
	2023/01/14 16:48"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=7c698440524117dca7534592db0e7f465ae4d0bb">7c6984405241</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/a63719e71f9e7c2496a8eef09aa58118deb0c0bc">a63719e7</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=ebc110f9741920ed">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=1785447e480000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=11869b86480000">report</a></td>
			<td class="repro">
				<a href="/text?tag=ReproSyz&amp;x=105b4136480000">syz</a>
				
			</td>
			<td class="repro"><a href="/text?tag=ReproC&amp;x=12d4ba0e480000">C</a></td>
			<td class="repro"></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b8f356c8d898/disk-7c698440.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/6c7adfab3239/vmlinux-7c698440.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/a5638e170c40/bzImage-7c698440.xz">kernel image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/09ab9b4cd0af/mount_0.gz">mounted in repro</a>]</span>
			</td>
			<td class="manager">ci2-upstream-fs</td>
			<td class="manager">INFO: task hung in extent_write_cache_pages</td>
		</tr>
		
		<tr>
			<td class="time">2023/02/03 17:03</td>
			<td class="kernel" title="upstream">upstream</td>
			<td class="tag" title="66a87fff1a87c260452f5a57123891ca5258c449
	2023/02/03 00:44"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=66a87fff1a87c260452f5a57123891ca5258c449">66a87fff1a87</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/1b2f701aa9a17abb7e27c7c1170d26398febf247">1b2f701a</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=5ea620bd01d9130d">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=1653afa5480000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=1519806b480000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=8fc08cb03756ffb5">info</a></td>
			<td class="assets"></td>
			<td class="manager">ci-upstream-kasan-gce-root</td>
			<td class="manager">INFO: task hung in extent_write_cache_pages</td>
		</tr>
		
		<tr>
			<td class="time">2022/12/15 05:16</td>
			<td class="kernel" title="upstream">upstream</td>
			<td class="tag" title="e2ca6ba6ba0152361aa4fcbf6067db71b2c7a770
	2022/12/14 03:29"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=e2ca6ba6ba0152361aa4fcbf6067db71b2c7a770">e2ca6ba6ba01</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/b18f0a64c547e066dca1eba82a3ada7ef5e54741">b18f0a64</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=276eb8ff64eb2c27">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=16c2c7c7880000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=1609788b880000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=50862fb007ae965a">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/8aad47431ccd/disk-e2ca6ba6.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/382636835ba9/vmlinux-e2ca6ba6.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/ac62c9f6a7cf/bzImage-e2ca6ba6.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci2-upstream-fs</td>
			<td class="manager">INFO: task hung in extent_write_cache_pages</td>
		</tr>
		
		<tr>
			<td class="time">2023/01/29 19:01</td>
			<td class="kernel" title="linux-next">linux-next</td>
			<td class="tag" title="e2f86c02fdc96ca29ced53221a3cbf50aa6f8b49
	2023/01/27 07:17"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/next/linux-next.git/log/?id=e2f86c02fdc96ca29ced53221a3cbf50aa6f8b49">e2f86c02fdc9</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/9dfcf09cf38eb123a007af28c5ee2562718893a0">9dfcf09c</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=920c61956db733da">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=13e47ff5480000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=12820fe1480000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=4af66a8e39250ab0">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/ff04f1611fad/disk-e2f86c02.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/67928a8622d3/vmlinux-e2f86c02.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b444a3d78556/bzImage-e2f86c02.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-linux-next-kasan-gce-root</td>
			<td class="manager">INFO: task hung in extent_write_cache_pages</td>
		</tr>
		
		</tbody>
</table>
<i>* <s>Struck through</s> repros no longer work on HEAD.</i>


</body>
</html>
