

<!doctype html>
<html>
<head>
	
	<link rel="stylesheet" href="/static/style.css"/>
	<script src="/static/common.js"></script>
	
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116117799-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() { dataLayer.push(arguments); }
			gtag('js', new Date());
			gtag('config', 'UA-116117799-1');
		</script>
	

	<title>BUG: Bad page state in bpf_test_run_xdp_live</title>
</head>
<body>
	
	<header id="topbar">
		<table class="position_table">
			<tr>
				<td>
					<h1><a href="/upstream">syzbot</a></h1>
				</td>
				<td class="namespace_td">
					<select class="namespace" onchange="window.location.href = '/' + this.value + '';">
						
							<option value="android-5-10" >Android 5.10</option>
							<option value="android-5-15" >Android 5.15</option>
							<option value="android-54" >Android 5.4</option>
							<option value="android-6-1" >Android 6.1</option>
							<option value="freebsd" >FreeBSD</option>
							<option value="upstream" selected="1">Linux</option>
							<option value="linux-5.15" >Linux 5.15</option>
							<option value="linux-6.1" >Linux 6.1</option>
							<option value="netbsd" >NetBSD</option>
							<option value="openbsd" >OpenBSD</option>
							<option value="gvisor" >gVisor</option></select>
				</td>
				<td class="search">
					
					
						<a href="https://syzkaller.appspot.com/_ah/conflogin?continue=https://syzkaller.appspot.com/bug%3Fextid%3Dd121e098da06af416d23">sign-in</a> |
					
					<a href="https://groups.google.com/forum/#!forum/syzkaller" target="_blank">mailing list</a> |
					<a href="https://github.com/google/syzkaller" target="_blank">source</a> |
					<a href="https://github.com/google/syzkaller/blob/master/docs/syzbot.md" target="_blank">docs</a>
				</td>
			</tr>
		</table>
		
		<div class="navigation">
			<div class="navigation_tab">
				<a href='/upstream'><span style="color:DeepPink;">üêû</span> Open [1658]</a>
			</div>

			
			<div class="navigation_tab">
				<a href='/upstream/subsystems'><span style="color:DeepPink;">‚â°</span> Subsystems</a>
			</div>
			

			<div class="navigation_tab">
				<a href='/upstream/fixed'><span style="color:ForestGreen;">üêû</span> Fixed [6081]</a>
			</div>

			<div class="navigation_tab" href='/upstream/invalid'>
				<a href='/upstream/invalid'><span style="color:RoyalBlue;">üêû</span> Invalid [15103]</a>
			</div>

			
			<div class="navigation_tab">
				<a href='/upstream/backports'><span style="color:ForestGreen;">‚¨á</span> Missing Backports [157]</a>
			</div>
			

			<div class="navigation_tab">
				<a href='/upstream/graph/crashes'><span style="color:ForestGreen;">‚â°</span> Crashes</a>
			</div>

			<div class="dropdown navigation_tab">
				<button class="dropbtn"><span style="color:DarkOrange;">üìà</span>Graphs</button>
				<div class="dropdown-content">
					<a class="navigation_tab"
						href='/upstream/graph/bugs'>Kernel&nbsp;Health</a>
					<a class="navigation_tab"
						href='/upstream/graph/found-bugs'>Bugs/Month</a>
					<a class="navigation_tab"
						href='/upstream/graph/lifetimes'>Bug&nbsp;Lifetimes</a>
					<a class="navigation_tab"
						href='/upstream/graph/fuzzing'>Fuzzing</a>
				</div>
			</div>

			
			<div class="dropdown navigation_tab">
				<button class="dropbtn"><span style="color:DarkOrange;">üìà</span>Coverage</button>
				<div class="dropdown-content">
					<a class="navigation_tab"
						href="/upstream/graph/coverage?period=quarter">Total</a>
					<a class="navigation_tab"
						href="/upstream/coverage?period=month">Repo&nbsp;Heatmap</a>
					
						<a class="navigation_tab"
							href="/upstream/coverage/subsystems?period=month">Subsystems&nbsp;Heatmap</a>
					
				</div>
			</div>
			
			
			<div class="navigation_tab navigation_right">
				<a href='mailto:syzkaller@googlegroups.com'><span style="color:ForestGreen;">üí¨</span> Send us feedback</a>
			</div>
			
		</div>
		
	</header>
	<br>


	<b>BUG: Bad page state in bpf_test_run_xdp_live</b><br><br>
	Status: <a href="https://groups.google.com/d/msgid/syzkaller-bugs/671ecfe4.050a0220.2b8c0f.01ed.GAE@google.com">fixed on 2024/11/14 10:09</a><br>
	
		
			Subsystems: 
				<span class="bug-label"><a href="/upstream/s/net">net</a></span>
		<br>
		
	<a href="https://github.com/google/syzkaller/blob/master/docs/syzbot.md#labels">[Documentation on labels]</a><br>
	
	
	Reported-by: syzbot&#43;d121e098da06af416d23@syzkaller.appspotmail.com<br>
	
		<b>Fix commit:</b> 

	<span class="mono">
		
			c40dd8c47325
		
		<a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=c40dd8c4732551605712985bc5b7045094c6458d">bpf, test_run: Fix LIVE_FRAME frame update after a page has been recycled</a>
	</span>

<br>
		
	
	First crash: 133d, last: 126d<br>
	
	<div>
		<div class="bug-bisection-info">

	
	
	
		
			<b>Cause bisection: introduced by</b>
		
		<b>(<a href="https://syzkaller.appspot.com/x/bisect.txt?x=1578f640580000">bisect log</a>)</b> <span class="bad"></span>:<br>
		<span class="mono">
		
		commit dba1b8a7ab6853a84bf3afdbeac1c2f2370d3444<br>
		Author: Jesper Dangaard Brouer &lt;hawk@kernel.org&gt;<br>
		Date:   Fri Nov 24 10:16:52 2023 &#43;0000<br>
		<br>
		&nbsp;&nbsp;<a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/commit/?id=dba1b8a7ab6853a84bf3afdbeac1c2f2370d3444">mm/page_pool: catch page_pool memory leaks</a><br>
		</span><br>
	
	
		Crash: <a href="https://syzkaller.appspot.com/x/report.txt?x=1778f640580000">BUG: Bad page state in bpf_test_run_xdp_live</a> (<a href="https://syzkaller.appspot.com/x/log.txt?x=1378f640580000">log</a>)<br>
		Repro: <a href="/text?tag=ReproC&x=144db640580000">C</a>
		<a href="/text?tag=ReproSyz&x=156b48a7980000">syz</a>
		<a href="/text?tag=KernelConfig&x=e7f0cac6eaefe81d">.config</a><br>
	

	
	&nbsp;&nbsp;
	

</div>
		
		<div class="bug-bisection-stop"></div>
	</div>

	
	<div class="collapsible collapsible-show">
		<div class="head">
			<span class="show-icon">&#9654;</span>
			<span class="hide-icon">&#9660;</span>
			<span>Discussions (2)</span>
		</div>
		<div class="content">
			
			
			

<table class="list_table">
	<thead>
	<tr>
		<th>Title</th>
		<th>Replies (including bot)</th>
		<th>Last reply</th>
	</tr>
	</thead>
	<tbody>
	
		<tr>
			<td><a href="https://lore.kernel.org/all/20241030-test-run-mem-fix-v1-1-41e88e8cae43@redhat.com/T/">[PATCH bpf] bpf, test_run: Fix LIVE_FRAME frame update after a page has been recycled</a></td>
			<td class="stat">4 (4)</td>
			<td class="stat">2024/10/31 15:30</td>
		</tr>
	
		<tr>
			<td><a href="https://lore.kernel.org/all/671ecfe4.050a0220.2b8c0f.01ed.GAE@google.com/T/">[syzbot] [net?] BUG: Bad page state in bpf_test_run_xdp_live</a></td>
			<td class="stat">2 (4)</td>
			<td class="stat">2024/10/29 21:33</td>
		</tr>
	
	</tbody>
</table>


			
			
		</div>
	</div>
	
	<div class="collapsible collapsible-hide">
		<div class="head">
			<span class="show-icon">&#9654;</span>
			<span class="hide-icon">&#9660;</span>
			<span>Last patch testing requests (1)</span>
		</div>
		<div class="content">
			
			

	<table class="list_table">
		<caption id="jobs"><a class="plain" href="#jobs"></a></caption>
		<thead>
		<tr>
			
			<th>Created</th>
			<th>Duration</th>
			<th>User</th>
			<th>Patch</th>
			<th>Repo</th>
			
			<th>Result</th>
		</tr>
		</thead>
		<tbody>
		
			<tr>
				
				<td class="time">2024/10/29 21:01</td>
				<td class="time" title="started: 2024/10/29 21:01&#013;finished: 2024/10/29 21:32">
					31m
				</td>
				<td>
					
						toke@redhat.com
					
				</td>
				<td><a href="/text?tag=Patch&x=13ad1f57980000">patch</a></td>
				<td class="kernel" title="net-next"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/commit/?id=b62607870b291d72ca4a07b24fa298dcb2762b79">net-next</a></td>
				
				<td class="result">
					
						OK
						
					
					
					
						<a href="https://syzkaller.appspot.com/x/log.txt?x=177d4540580000">log</a>
					
					
					
				</td>
			</tr>
		
		</tbody>
	</table>


			
			
			
		</div>
	</div>
	

	
	<br><b>Sample crash report:</b><br>
	<div id="crash_div"><pre>BUG: Bad page state in process syz-executor264  pfn:2ce0c
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff88802ce0da00 pfn:0x2ce0c
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff88802ce0da00 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230196314, free_ts 81303083649
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 __slab_free+0x31b/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4490'>mm/slub.c:4490</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Not tainted 6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:28067
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff888000000002 pfn:0x28067
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff888000000002 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230183819, free_ts 81303099011
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 __slab_free+0x31b/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4490'>mm/slub.c:4490</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:28066
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff888028066600 pfn:0x28066
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff888028066600 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230171296, free_ts 81303099011
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 __slab_free+0x31b/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4490'>mm/slub.c:4490</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:21699
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff888000000002 pfn:0x21699
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff888000000002 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230158846, free_ts 81303114363
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 __slab_free+0x31b/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4490'>mm/slub.c:4490</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:21698
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff888021699a00 pfn:0x21698
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff888021699a00 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230146173, free_ts 81303114363
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 __slab_free+0x31b/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4490'>mm/slub.c:4490</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:31f93
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0x2 pfn:0x31f93
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: 0000000000000002 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230133658, free_ts 81303685018
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 __slab_free+0x31b/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4490'>mm/slub.c:4490</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:31f92
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff888031f93000 pfn:0x31f92
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff888031f93000 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230121122, free_ts 81303685018
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 __slab_free+0x31b/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4490'>mm/slub.c:4490</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:7e509
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff888000000002 pfn:0x7e509
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff888000000002 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230108751, free_ts 81997980812
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 discard_slab <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2677'>mm/slub.c:2677</a> [inline]
 __put_partials+0xeb/0x130 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3145'>mm/slub.c:3145</a>
 put_cpu_partial+0x17c/0x250 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3220'>mm/slub.c:3220</a>
 __slab_free+0x2ea/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4449'>mm/slub.c:4449</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:7e508
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff88807e509200 pfn:0x7e508
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff88807e509200 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230096139, free_ts 81997980812
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 discard_slab <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2677'>mm/slub.c:2677</a> [inline]
 __put_partials+0xeb/0x130 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3145'>mm/slub.c:3145</a>
 put_cpu_partial+0x17c/0x250 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3220'>mm/slub.c:3220</a>
 __slab_free+0x2ea/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4449'>mm/slub.c:4449</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:2f5ff
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff888000000002 pfn:0x2f5ff
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff888000000002 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230083683, free_ts 81997994447
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 discard_slab <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2677'>mm/slub.c:2677</a> [inline]
 __put_partials+0xeb/0x130 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3145'>mm/slub.c:3145</a>
 put_cpu_partial+0x17c/0x250 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3220'>mm/slub.c:3220</a>
 __slab_free+0x2ea/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4449'>mm/slub.c:4449</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:2f5fe
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff88802f5ff200 pfn:0x2f5fe
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff88802f5ff200 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230071256, free_ts 81997994447
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 discard_slab <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2677'>mm/slub.c:2677</a> [inline]
 __put_partials+0xeb/0x130 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3145'>mm/slub.c:3145</a>
 put_cpu_partial+0x17c/0x250 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3220'>mm/slub.c:3220</a>
 __slab_free+0x2ea/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4449'>mm/slub.c:4449</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:2738b
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff888000000002 pfn:0x2738b
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff888000000002 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230058936, free_ts 81998007797
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 discard_slab <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2677'>mm/slub.c:2677</a> [inline]
 __put_partials+0xeb/0x130 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3145'>mm/slub.c:3145</a>
 put_cpu_partial+0x17c/0x250 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3220'>mm/slub.c:3220</a>
 __slab_free+0x2ea/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4449'>mm/slub.c:4449</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:2738a
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff88802738be00 pfn:0x2738a
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff88802738be00 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230046371, free_ts 81998007797
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 discard_slab <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2677'>mm/slub.c:2677</a> [inline]
 __put_partials+0xeb/0x130 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3145'>mm/slub.c:3145</a>
 put_cpu_partial+0x17c/0x250 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3220'>mm/slub.c:3220</a>
 __slab_free+0x2ea/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4449'>mm/slub.c:4449</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:29325
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0x2 pfn:0x29325
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: 0000000000000002 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230033820, free_ts 81998665324
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 discard_slab <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2677'>mm/slub.c:2677</a> [inline]
 __put_partials+0xeb/0x130 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3145'>mm/slub.c:3145</a>
 put_cpu_partial+0x17c/0x250 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3220'>mm/slub.c:3220</a>
 __slab_free+0x2ea/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4449'>mm/slub.c:4449</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:29324
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff888029325200 pfn:0x29324
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff888029325200 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230021040, free_ts 81998665324
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 discard_slab <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2677'>mm/slub.c:2677</a> [inline]
 __put_partials+0xeb/0x130 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3145'>mm/slub.c:3145</a>
 put_cpu_partial+0x17c/0x250 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3220'>mm/slub.c:3220</a>
 __slab_free+0x2ea/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4449'>mm/slub.c:4449</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:30dd9
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0x2 pfn:0x30dd9
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: 0000000000000002 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82230009720, free_ts 81998956512
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 __slab_free+0x31b/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4490'>mm/slub.c:4490</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
 tcp_sendmsg+0x30/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1358'>net/ipv4/tcp.c:1358</a>
 sock_sendmsg_nosec <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n729'>net/socket.c:729</a> [inline]
 __sock_sendmsg+0x1a6/0x270 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n744'>net/socket.c:744</a>
 sock_write_iter+0x2d7/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/socket.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1165'>net/socket.c:1165</a>
 new_sync_write <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>fs/read_write.c:590</a> [inline]
 vfs_write+0xa6d/0xc90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n683'>fs/read_write.c:683</a>
 ksys_write+0x183/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/fs/read_write.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n736'>fs/read_write.c:736</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
Modules linked in:
CPU: 1 UID: 0 PID: 5341 Comm: syz-executor264 Tainted: G    B              6.12.0-rc2-syzkaller-00631-g6d858708d465 #0
Tainted: [B]=BAD_PAGE
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS Google 09/13/2024
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x241/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/lib/dump_stack.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n120'>lib/dump_stack.c:120</a>
 bad_page+0x166/0x1b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n501'>mm/page_alloc.c:501</a>
 free_page_is_bad <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n918'>mm/page_alloc.c:918</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1100'>mm/page_alloc.c:1100</a> [inline]
 free_unref_page+0xed0/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 skb_free_frag <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3405'>include/linux/skbuff.h:3405</a> [inline]
 skb_free_head <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1096'>net/core/skbuff.c:1096</a> [inline]
 skb_release_data+0x6dc/0x8a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1125'>net/core/skbuff.c:1125</a>
 skb_release_all <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1190'>net/core/skbuff.c:1190</a> [inline]
 __kfree_skb <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1204'>net/core/skbuff.c:1204</a> [inline]
 sk_skb_reason_drop+0x1c9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1242'>net/core/skbuff.c:1242</a>
 kfree_skb_reason <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1262'>include/linux/skbuff.h:1262</a> [inline]
 __netif_receive_skb_core+0x3edd/0x4570 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5642'>net/core/dev.c:5642</a>
 __netif_receive_skb_list_core+0x2b1/0x980 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5743'>net/core/dev.c:5743</a>
 __netif_receive_skb_list <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5810'>net/core/dev.c:5810</a> [inline]
 netif_receive_skb_list_internal+0xa51/0xe30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5901'>net/core/dev.c:5901</a>
 netif_receive_skb_list+0x55/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/dev.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5953'>net/core/dev.c:5953</a>
 xdp_recv_frames <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n279'>net/bpf/test_run.c:279</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n360'>net/bpf/test_run.c:360</a> [inline]
 bpf_test_run_xdp_live+0x1b0d/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
RIP: 0033:0x7fdaacbe3e69
Code: 28 00 00 00 75 05 48 83 c4 28 c3 e8 51 18 00 00 90 48 89 f8 48 89 f7 48 89 d6 48 89 ca 4d 89 c2 4d 89 c8 4c 8b 4c 24 08 0f 05 &lt;48&gt; 3d 01 f0 ff ff 73 01 c3 48 c7 c1 b0 ff ff ff f7 d8 64 89 01 48
RSP: 002b:00007fdaacb7d228 EFLAGS: 00000246 ORIG_RAX: 0000000000000141
RAX: ffffffffffffffda RBX: 00007fdaacc6e338 RCX: 00007fdaacbe3e69
RDX: 0000000000000048 RSI: 0000000020000600 RDI: 000000000000000a
RBP: 00007fdaacc6e330 R08: 00007fdaacb7d6c0 R09: 00007fdaacb7d6c0
R10: 00007fdaacb7d6c0 R11: 0000000000000246 R12: 00007fdaacc3b074
R13: 2caa1414ac000000 R14: 656c6c616b7a7973 R15: 00007ffdd6bfcce8
 &lt;/TASK&gt;
BUG: Bad page state in process syz-executor264  pfn:30dd8
page: refcount:0 mapcount:0 mapping:0000000000000000 index:0xffff888030dd8600 pfn:0x30dd8
flags: 0xfff00000000000(node=0|zone=1|lastcpupid=0x7ff)
raw: 00fff00000000000 dead000000000040 ffff8880213e8000 0000000000000000
raw: ffff888030dd8600 0000000000000001 00000000ffffffff 0000000000000000
page dumped because: page_pool leak
page_owner tracks the page as allocated
page last allocated via order 0, migratetype Unmovable, gfp_mask 0x2820(GFP_ATOMIC|__GFP_NOWARN), pid 5341, tgid 5338 (syz-executor264), ts 82229998577, free_ts 81998956512
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x1f3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1537'>mm/page_alloc.c:1537</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1545'>mm/page_alloc.c:1545</a> [inline]
 get_page_from_freelist+0x3045/0x3190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n3457'>mm/page_alloc.c:3457</a>
 __alloc_pages_noprof+0x292/0x710 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4733'>mm/page_alloc.c:4733</a>
 alloc_pages_bulk_noprof+0x729/0xd40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4681'>mm/page_alloc.c:4681</a>
 alloc_pages_bulk_array_node_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/gfp.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n239'>include/linux/gfp.h:239</a> [inline]
 __page_pool_alloc_pages_slow+0x122/0x690 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n538'>net/core/page_pool.c:538</a>
 page_pool_alloc_netmem <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n590'>net/core/page_pool.c:590</a> [inline]
 page_pool_alloc_pages+0xd0/0x1c0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/page_pool.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n597'>net/core/page_pool.c:597</a>
 page_pool_dev_alloc_pages <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/net/page_pool/helpers.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n96'>include/net/page_pool/helpers.h:96</a> [inline]
 xdp_test_run_batch <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n305'>net/bpf/test_run.c:305</a> [inline]
 bpf_test_run_xdp_live+0x950/0x2160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n389'>net/bpf/test_run.c:389</a>
 bpf_prog_test_run_xdp+0x805/0x11e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/bpf/test_run.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1317'>net/bpf/test_run.c:1317</a>
 bpf_prog_test_run+0x2e4/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4247'>kernel/bpf/syscall.c:4247</a>
 __sys_bpf+0x48d/0x810 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5652'>kernel/bpf/syscall.c:5652</a>
 __do_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5741'>kernel/bpf/syscall.c:5741</a> [inline]
 __se_sys_bpf <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a> [inline]
 __x64_sys_bpf+0x7c/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/kernel/bpf/syscall.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n5739'>kernel/bpf/syscall.c:5739</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xf3/0x230 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/arch/x86/entry/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f
page last free pid 5230 tgid 5230 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/page_owner.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1108'>mm/page_alloc.c:1108</a> [inline]
 free_unref_page+0xcfb/0xf20 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/page_alloc.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n2638'>mm/page_alloc.c:2638</a>
 __slab_free+0x31b/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4490'>mm/slub.c:4490</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x9a/0x140 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x14f/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/quarantine.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x23/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/kasan/common.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/kasan.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4134'>mm/slub.c:4134</a> [inline]
 kmem_cache_alloc_node_noprof+0x16b/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/mm/slub.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n4186'>mm/slub.c:4186</a>
 __alloc_skb+0x1c3/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/core/skbuff.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n668'>net/core/skbuff.c:668</a>
 alloc_skb_fclone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/include/linux/skbuff.h?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1372'>include/linux/skbuff.h:1372</a> [inline]
 tcp_stream_alloc_skb+0x3d/0x310 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n886'>net/ipv4/tcp.c:886</a>
 tcp_sendmsg_locked+0xd96/0x4f30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/tree/net/ipv4/tcp.c?id=6d858708d465669ba7de17e9c5691eb4019166e8#n1168'>net/ipv4/tcp.c:1168</a>
</pre></div><br>
	

	

<table class="list_table">
	<caption>Crashes (17):</caption>
		<thead>
		<tr>
			<th><a onclick="return sortTable(this, 'Time', textSort, true)" href="#">Time</a></th>
			<th><a onclick="return sortTable(this, 'Kernel', textSort)" href="#">Kernel</a></th>
			<th><a onclick="return sortTable(this, 'Commit', textSort)" href="#">Commit</a></th>
			<th><a onclick="return sortTable(this, 'Syzkaller', textSort)" href="#">Syzkaller</a></th>
			<th><a onclick="return sortTable(this, 'Config', textSort)" href="#">Config</a></th>
			<th><a onclick="return sortTable(this, 'Log', textSort)" href="#">Log</a></th>
			<th><a onclick="return sortTable(this, 'Report', reproSort)" href="#">Report</a></th>
			<th><a onclick="return sortTable(this, 'Syz repro', reproSort)" href="#">Syz repro</a></th>
			<th><a onclick="return sortTable(this, 'C repro', textSort)" href="#">C repro</a></th>
			<th><a onclick="return sortTable(this, 'VM info', textSort)" href="#">VM info</a></th>
			<th><a onclick="return sortTable(this, 'Assets', textSort)" href="#">Assets</a> (<a href="https://github.com/google/syzkaller/blob/master/docs/syzbot_assets.md">help?</a>)</th>
			<th><a onclick="return sortTable(this, 'Manager', textSort)" href="#">Manager</a></th>
			<th><a onclick="return sortTable(this, 'Title', textSort)" href="#">Title</a></th>
		</tr>
		</thead>
		<tbody>
		
		<tr>
			<td class="time">2024/10/24 07:54</td>
			<td class="kernel" title="net-next">net-next</td>
			<td class="tag" title="6d858708d465669ba7de17e9c5691eb4019166e8
	2024/10/15 17:55"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/log/?id=6d858708d465669ba7de17e9c5691eb4019166e8">6d858708d465</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/15fa29791c1707abd7faed4110e284d0ccb72fae">15fa2979</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=e7f0cac6eaefe81d">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=129a7640580000">strace log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=1232c8a7980000">report</a></td>
			<td class="repro">
				<a href="/text?tag=ReproSyz&amp;x=13dfa65f980000">syz</a>
				 / <a href="/text?tag=ReproLog&amp;x=1632c8a7980000">log</a>
			</td>
			<td class="repro"><a href="/text?tag=ReproC&amp;x=17225287980000">C</a></td>
			<td class="repro"></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/88c678a36ec8/disk-6d858708.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b19b4fbbd593/vmlinux-6d858708.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/18fef9c3fe20/bzImage-6d858708.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-net-kasan-gce</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/24 06:38</td>
			<td class="kernel" title="net-next">net-next</td>
			<td class="tag" title="6d858708d465669ba7de17e9c5691eb4019166e8
	2024/10/15 17:55"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/log/?id=6d858708d465669ba7de17e9c5691eb4019166e8">6d858708d465</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/15fa29791c1707abd7faed4110e284d0ccb72fae">15fa2979</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=e7f0cac6eaefe81d">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=138cc8a7980000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=14ac7640580000">report</a></td>
			<td class="repro">
				<a href="/text?tag=ReproSyz&amp;x=1462a287980000">syz</a>
				 / <a href="/text?tag=ReproLog&amp;x=10dc2c30580000">log</a>
			</td>
			<td class="repro"><a href="/text?tag=ReproC&amp;x=113ba65f980000">C</a></td>
			<td class="repro"></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/88c678a36ec8/disk-6d858708.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b19b4fbbd593/vmlinux-6d858708.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/18fef9c3fe20/bzImage-6d858708.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-net-kasan-gce</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/24 05:21</td>
			<td class="kernel" title="net-next">net-next</td>
			<td class="tag" title="6d858708d465669ba7de17e9c5691eb4019166e8
	2024/10/15 17:55"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/log/?id=6d858708d465669ba7de17e9c5691eb4019166e8">6d858708d465</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/15fa29791c1707abd7faed4110e284d0ccb72fae">15fa2979</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=e7f0cac6eaefe81d">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=11a8c8a7980000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=16907640580000">report</a></td>
			<td class="repro">
				<a href="/text?tag=ReproSyz&amp;x=141da65f980000">syz</a>
				 / <a href="/text?tag=ReproLog&amp;x=1564a287980000">log</a>
			</td>
			<td class="repro"><a href="/text?tag=ReproC&amp;x=10682c30580000">C</a></td>
			<td class="repro"></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/88c678a36ec8/disk-6d858708.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b19b4fbbd593/vmlinux-6d858708.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/18fef9c3fe20/bzImage-6d858708.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-net-kasan-gce</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/24 04:04</td>
			<td class="kernel" title="net-next">net-next</td>
			<td class="tag" title="6d858708d465669ba7de17e9c5691eb4019166e8
	2024/10/15 17:55"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/log/?id=6d858708d465669ba7de17e9c5691eb4019166e8">6d858708d465</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/15fa29791c1707abd7faed4110e284d0ccb72fae">15fa2979</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=e7f0cac6eaefe81d">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=164fcc30580000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=14ef48a7980000">report</a></td>
			<td class="repro">
				<a href="/text?tag=ReproSyz&amp;x=15bbb640580000">syz</a>
				 / <a href="/text?tag=ReproLog&amp;x=1629a65f980000">log</a>
			</td>
			<td class="repro"><a href="/text?tag=ReproC&amp;x=1220a287980000">C</a></td>
			<td class="repro"></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/88c678a36ec8/disk-6d858708.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b19b4fbbd593/vmlinux-6d858708.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/18fef9c3fe20/bzImage-6d858708.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-net-kasan-gce</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/24 02:43</td>
			<td class="kernel" title="net-next">net-next</td>
			<td class="tag" title="6d858708d465669ba7de17e9c5691eb4019166e8
	2024/10/15 17:55"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/log/?id=6d858708d465669ba7de17e9c5691eb4019166e8">6d858708d465</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/15fa29791c1707abd7faed4110e284d0ccb72fae">15fa2979</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=e7f0cac6eaefe81d">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=15d6a65f980000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=120bcc30580000">report</a></td>
			<td class="repro">
				<a href="/text?tag=ReproSyz&amp;x=156b48a7980000">syz</a>
				 / <a href="/text?tag=ReproLog&amp;x=14fb2287980000">log</a>
			</td>
			<td class="repro"><a href="/text?tag=ReproC&amp;x=144db640580000">C</a></td>
			<td class="repro"></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/88c678a36ec8/disk-6d858708.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b19b4fbbd593/vmlinux-6d858708.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/18fef9c3fe20/bzImage-6d858708.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-net-kasan-gce</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/24 01:08</td>
			<td class="kernel" title="net-next">net-next</td>
			<td class="tag" title="6d858708d465669ba7de17e9c5691eb4019166e8
	2024/10/15 17:55"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/log/?id=6d858708d465669ba7de17e9c5691eb4019166e8">6d858708d465</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/15fa29791c1707abd7faed4110e284d0ccb72fae">15fa2979</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=e7f0cac6eaefe81d">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=173eb640580000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=17d548a7980000">report</a></td>
			<td class="repro">
				<a href="/text?tag=ReproSyz&amp;x=121ca65f980000">syz</a>
				 / <a href="/text?tag=ReproLog&amp;x=1225cc30580000">log</a>
			</td>
			<td class="repro"><a href="/text?tag=ReproC&amp;x=14ad2287980000">C</a></td>
			<td class="repro"></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/88c678a36ec8/disk-6d858708.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b19b4fbbd593/vmlinux-6d858708.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/18fef9c3fe20/bzImage-6d858708.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-net-kasan-gce</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/30 07:27</td>
			<td class="kernel" title="upstream">upstream</td>
			<td class="tag" title="c1e939a21eb111a6d6067b38e8e04b8809b64c4e
	2024/10/30 02:41"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=c1e939a21eb111a6d6067b38e8e04b8809b64c4e">c1e939a21eb1</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/66aeb999f37ab41e95f08d1da821200313f71342">66aeb999</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=13742ac59dd3e298">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=15a58e87980000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=148aad40580000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=e4c611fc7950d8fe">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/94a0e52971a3/disk-c1e939a2.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/83e574d172be/vmlinux-c1e939a2.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/199130fd2c10/bzImage-c1e939a2.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-kasan-gce-smack-root</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/30 07:27</td>
			<td class="kernel" title="upstream">upstream</td>
			<td class="tag" title="c1e939a21eb111a6d6067b38e8e04b8809b64c4e
	2024/10/30 02:41"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=c1e939a21eb111a6d6067b38e8e04b8809b64c4e">c1e939a21eb1</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/66aeb999f37ab41e95f08d1da821200313f71342">66aeb999</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=13742ac59dd3e298">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=11a58e87980000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=166c9af7980000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=33b112b905e64ef">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/94a0e52971a3/disk-c1e939a2.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/83e574d172be/vmlinux-c1e939a2.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/199130fd2c10/bzImage-c1e939a2.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-kasan-gce-smack-root</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/30 06:31</td>
			<td class="kernel" title="upstream">upstream</td>
			<td class="tag" title="c1e939a21eb111a6d6067b38e8e04b8809b64c4e
	2024/10/30 02:41"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=c1e939a21eb111a6d6067b38e8e04b8809b64c4e">c1e939a21eb1</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/66aeb999f37ab41e95f08d1da821200313f71342">66aeb999</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=4aec7739e14231a7">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=15dcad40580000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=145b0630580000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=3376283280bb03ee">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/4ada69c44543/disk-c1e939a2.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/f24929af107f/vmlinux-c1e939a2.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b5941db7dcfc/bzImage-c1e939a2.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-kasan-gce-root</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/30 06:31</td>
			<td class="kernel" title="upstream">upstream</td>
			<td class="tag" title="c1e939a21eb111a6d6067b38e8e04b8809b64c4e
	2024/10/30 02:41"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=c1e939a21eb111a6d6067b38e8e04b8809b64c4e">c1e939a21eb1</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/66aeb999f37ab41e95f08d1da821200313f71342">66aeb999</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=4aec7739e14231a7">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=16dcad40580000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=105b0630580000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=22280151353fd113">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/4ada69c44543/disk-c1e939a2.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/f24929af107f/vmlinux-c1e939a2.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b5941db7dcfc/bzImage-c1e939a2.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-kasan-gce-root</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/31 08:28</td>
			<td class="kernel" title="net-next">net-next</td>
			<td class="tag" title="d30b56c8666d2543112152dd5d93d052eafd6bc2
	2024/10/30 13:26"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/log/?id=d30b56c8666d2543112152dd5d93d052eafd6bc2">d30b56c8666d</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/fb888278a6b21eda7fa63551c83fd17b90305ba1">fb888278</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=9a3b9ec43446307a">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=15c59540580000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=154ec6f7980000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=9a6a6f28c7e84493">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/086958b34c84/disk-d30b56c8.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/25021a1374f0/vmlinux-d30b56c8.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/1292489fcc23/bzImage-d30b56c8.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-net-kasan-gce</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/31 06:42</td>
			<td class="kernel" title="net-next">net-next</td>
			<td class="tag" title="d30b56c8666d2543112152dd5d93d052eafd6bc2
	2024/10/30 13:26"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/log/?id=d30b56c8666d2543112152dd5d93d052eafd6bc2">d30b56c8666d</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/fb888278a6b21eda7fa63551c83fd17b90305ba1">fb888278</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=9a3b9ec43446307a">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=16ef92a7980000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=144e9540580000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=1eb792a8ec233bda">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/086958b34c84/disk-d30b56c8.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/25021a1374f0/vmlinux-d30b56c8.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/1292489fcc23/bzImage-d30b56c8.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-net-kasan-gce</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/29 18:56</td>
			<td class="kernel" title="net-next">net-next</td>
			<td class="tag" title="ab101c553bc1f76a839163d1dc0d1e715ad6bb4e
	2024/10/29 01:12"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/log/?id=ab101c553bc1f76a839163d1dc0d1e715ad6bb4e">ab101c553bc1</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/66aeb999f37ab41e95f08d1da821200313f71342">66aeb999</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=d5f5d11d6427e25d">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=104dee40580000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=13f5eebb980000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=a1791f5fe258a321">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/0e2203171500/disk-ab101c55.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/37193dc1f6bd/vmlinux-ab101c55.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/775ed7061fe6/bzImage-ab101c55.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-net-kasan-gce</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/28 21:44</td>
			<td class="kernel" title="net-next">net-next</td>
			<td class="tag" title="6d858708d465669ba7de17e9c5691eb4019166e8
	2024/10/15 17:55"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/log/?id=6d858708d465669ba7de17e9c5691eb4019166e8">6d858708d465</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/9efb3cc7d524771b347fdd278c089ee920df8da4">9efb3cc7</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=e7f0cac6eaefe81d">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=106ffe5f980000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=1286e940580000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=b2242b81bec605db">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/88c678a36ec8/disk-6d858708.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b19b4fbbd593/vmlinux-6d858708.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/18fef9c3fe20/bzImage-6d858708.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-net-kasan-gce</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/26 00:38</td>
			<td class="kernel" title="net-next">net-next</td>
			<td class="tag" title="6d858708d465669ba7de17e9c5691eb4019166e8
	2024/10/15 17:55"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/log/?id=6d858708d465669ba7de17e9c5691eb4019166e8">6d858708d465</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/65e8686b0e9e909b6ea5629f95a9b14e81927872">65e8686b</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=e7f0cac6eaefe81d">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=100a7287980000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=13f2565f980000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=3414d16659085703">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/88c678a36ec8/disk-6d858708.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b19b4fbbd593/vmlinux-6d858708.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/18fef9c3fe20/bzImage-6d858708.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-net-kasan-gce</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/25 20:31</td>
			<td class="kernel" title="net-next">net-next</td>
			<td class="tag" title="6d858708d465669ba7de17e9c5691eb4019166e8
	2024/10/15 17:55"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/log/?id=6d858708d465669ba7de17e9c5691eb4019166e8">6d858708d465</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/65e8686b0e9e909b6ea5629f95a9b14e81927872">65e8686b</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=e7f0cac6eaefe81d">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=175ab0e7980000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=102bae40580000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=f268690aaedef107">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/88c678a36ec8/disk-6d858708.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b19b4fbbd593/vmlinux-6d858708.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/18fef9c3fe20/bzImage-6d858708.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-net-kasan-gce</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		<tr>
			<td class="time">2024/10/23 23:33</td>
			<td class="kernel" title="net-next">net-next</td>
			<td class="tag" title="6d858708d465669ba7de17e9c5691eb4019166e8
	2024/10/15 17:55"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/davem/net-next.git/log/?id=6d858708d465669ba7de17e9c5691eb4019166e8">6d858708d465</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/15fa29791c1707abd7faed4110e284d0ccb72fae">15fa2979</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=e7f0cac6eaefe81d">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=121ecc30580000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=13c148a7980000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=3093e99642148028">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/88c678a36ec8/disk-6d858708.raw.xz">disk image</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b19b4fbbd593/vmlinux-6d858708.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/18fef9c3fe20/bzImage-6d858708.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-upstream-net-kasan-gce</td>
			<td class="manager">BUG: Bad page state in bpf_test_run_xdp_live</td>
		</tr>
		
		</tbody>
</table>
<i>* <s>Struck through</s> repros no longer work on HEAD.</i>


</body>
</html>
