

<!doctype html>
<html>
<head>
	
	<link rel="stylesheet" href="/static/style.css"/>
	<script src="/static/common.js"></script>
	
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116117799-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag() { dataLayer.push(arguments); }
			gtag('js', new Date());
			gtag('config', 'UA-116117799-1');
		</script>
	

	<title>KASAN: slab-use-after-free Read in drm_atomic_helper_wait_for_vblanks (2)</title>
</head>
<body>
	
	<header id="topbar">
		<table class="position_table">
			<tr>
				<td>
					<h1><a href="/upstream">syzbot</a></h1>
				</td>
				<td class="namespace_td">
					<select class="namespace" onchange="window.location.href = '/' + this.value + '';">
						
							<option value="android-5-10" >Android 5.10</option>
							<option value="android-5-15" >Android 5.15</option>
							<option value="android-54" >Android 5.4</option>
							<option value="android-6-1" >Android 6.1</option>
							<option value="freebsd" >FreeBSD</option>
							<option value="upstream" selected="1">Linux</option>
							<option value="linux-5.15" >Linux 5.15</option>
							<option value="linux-6.1" >Linux 6.1</option>
							<option value="netbsd" >NetBSD</option>
							<option value="openbsd" >OpenBSD</option>
							<option value="gvisor" >gVisor</option></select>
				</td>
				<td class="search">
					
					
						<a href="https://syzkaller.appspot.com/_ah/conflogin?continue=https://syzkaller.appspot.com/bug%3Fextid%3D0f999d26a4fd79c3a23b">sign-in</a> |
					
					<a href="https://groups.google.com/forum/#!forum/syzkaller" target="_blank">mailing list</a> |
					<a href="https://github.com/google/syzkaller" target="_blank">source</a> |
					<a href="https://github.com/google/syzkaller/blob/master/docs/syzbot.md" target="_blank">docs</a>
				</td>
			</tr>
		</table>
		
		<div class="navigation">
			<div class="navigation_tab">
				<a href='/upstream'><span style="color:DeepPink;">üêû</span> Open [1659]</a>
			</div>

			
			<div class="navigation_tab">
				<a href='/upstream/subsystems'><span style="color:DeepPink;">‚â°</span> Subsystems</a>
			</div>
			

			<div class="navigation_tab">
				<a href='/upstream/fixed'><span style="color:ForestGreen;">üêû</span> Fixed [6081]</a>
			</div>

			<div class="navigation_tab" href='/upstream/invalid'>
				<a href='/upstream/invalid'><span style="color:RoyalBlue;">üêû</span> Invalid [15102]</a>
			</div>

			
			<div class="navigation_tab">
				<a href='/upstream/backports'><span style="color:ForestGreen;">‚¨á</span> Missing Backports [157]</a>
			</div>
			

			<div class="navigation_tab">
				<a href='/upstream/graph/crashes'><span style="color:ForestGreen;">‚â°</span> Crashes</a>
			</div>

			<div class="dropdown navigation_tab">
				<button class="dropbtn"><span style="color:DarkOrange;">üìà</span>Graphs</button>
				<div class="dropdown-content">
					<a class="navigation_tab"
						href='/upstream/graph/bugs'>Kernel&nbsp;Health</a>
					<a class="navigation_tab"
						href='/upstream/graph/found-bugs'>Bugs/Month</a>
					<a class="navigation_tab"
						href='/upstream/graph/lifetimes'>Bug&nbsp;Lifetimes</a>
					<a class="navigation_tab"
						href='/upstream/graph/fuzzing'>Fuzzing</a>
				</div>
			</div>

			
			<div class="dropdown navigation_tab">
				<button class="dropbtn"><span style="color:DarkOrange;">üìà</span>Coverage</button>
				<div class="dropdown-content">
					<a class="navigation_tab"
						href="/upstream/graph/coverage?period=quarter">Total</a>
					<a class="navigation_tab"
						href="/upstream/coverage?period=month">Repo&nbsp;Heatmap</a>
					
						<a class="navigation_tab"
							href="/upstream/coverage/subsystems?period=month">Subsystems&nbsp;Heatmap</a>
					
				</div>
			</div>
			
			
			<div class="navigation_tab navigation_right">
				<a href='mailto:syzkaller@googlegroups.com'><span style="color:ForestGreen;">üí¨</span> Send us feedback</a>
			</div>
			
		</div>
		
	</header>
	<br>


	<b>KASAN: slab-use-after-free Read in drm_atomic_helper_wait_for_vblanks (2)</b><br><br>
	Status: <a href="https://groups.google.com/d/msgid/syzkaller-bugs/0000000000001d010d06112d0bf2%40google.com">upstream: reported C repro on 2024/02/12 10:50</a><br>
	
		
			Subsystems: 
				<span class="bug-label"><a href="/upstream/s/dri">dri</a></span>
		<br>
		
	<a href="https://github.com/google/syzkaller/blob/master/docs/syzbot.md#labels">[Documentation on labels]</a><br>
	
	
	Reported-by: syzbot&#43;0f999d26a4fd79c3a23b@syzkaller.appspotmail.com<br>
	
	First crash: 388d, last: 14d<br>
	
	<div>
		
		
		<div class="bug-bisection-stop"></div>
	</div>

	
	<div class="collapsible collapsible-show">
		<div class="head">
			<span class="show-icon">&#9654;</span>
			<span class="hide-icon">&#9660;</span>
			<span>Discussions (8)</span>
		</div>
		<div class="content">
			
			
			

<table class="list_table">
	<thead>
	<tr>
		<th>Title</th>
		<th>Replies (including bot)</th>
		<th>Last reply</th>
	</tr>
	</thead>
	<tbody>
	
		<tr>
			<td><a href="https://lore.kernel.org/all/67b25e4f.050a0220.173698.0014.GAE@google.com/T/">[syzbot] Monthly dri report (Feb 2025)</a></td>
			<td class="stat">0 (1)</td>
			<td class="stat">2025/02/16 21:53</td>
		</tr>
	
		<tr>
			<td><a href="https://lore.kernel.org/all/675ff674.050a0220.37aaf.0122.GAE@google.com/T/">[syzbot] Monthly dri report (Dec 2024)</a></td>
			<td class="stat">0 (1)</td>
			<td class="stat">2024/12/16 09:44</td>
		</tr>
	
		<tr>
			<td><a href="https://lore.kernel.org/all/6735bbea.050a0220.2a2fcc.0065.GAE@google.com/T/">[syzbot] Monthly dri report (Nov 2024)</a></td>
			<td class="stat">0 (1)</td>
			<td class="stat">2024/11/14 08:59</td>
		</tr>
	
		<tr>
			<td><a href="https://lore.kernel.org/all/670c1db6.050a0220.3e960.0044.GAE@google.com/T/">[syzbot] Monthly dri report (Oct 2024)</a></td>
			<td class="stat">0 (1)</td>
			<td class="stat">2024/10/13 19:21</td>
		</tr>
	
		<tr>
			<td><a href="https://lore.kernel.org/all/000000000000f4a65a0612e7df09@google.com/T/">[syzbot] Monthly dri report (Mar 2024)</a></td>
			<td class="stat">0 (1)</td>
			<td class="stat">2024/03/05 11:09</td>
		</tr>
	
		<tr>
			<td><a href="https://lore.kernel.org/all/tencent_C325B38DA11227DDA7DDBE192E4FE88DEC07@qq.com/T/">[PATCH v2] drm/atomic-helpers: fix uaf in drm_atomic_helper_wait_for_vblanks</a></td>
			<td class="stat">1 (1)</td>
			<td class="stat">2024/02/15 15:12</td>
		</tr>
	
		<tr>
			<td><a href="https://lore.kernel.org/all/tencent_9A767366D63D613790969436A84B2C74F509@qq.com/T/">[PATCH] drm/atomic-helpers: fix uaf in drm_atomic_helper_wait_for_vblanks</a></td>
			<td class="stat">1 (1)</td>
			<td class="stat">2024/02/15 13:02</td>
		</tr>
	
		<tr>
			<td><a href="https://lore.kernel.org/all/0000000000001d010d06112d0bf2@google.com/T/">[syzbot] [dri?] KASAN: slab-use-after-free Read in drm_atomic_helper_wait_for_vblanks (2)</a></td>
			<td class="stat">5 (12)</td>
			<td class="stat">2024/02/15 10:39</td>
		</tr>
	
	</tbody>
</table>


			
			
		</div>
	</div>
	
	<div class="collapsible collapsible-hide">
		<div class="head">
			<span class="show-icon">&#9654;</span>
			<span class="hide-icon">&#9660;</span>
			<span>Similar bugs (1)</span>
		</div>
		<div class="content">
			


<table class="list_table">
	
	<thead>
	<tr>
		
			<th><a onclick="return sortTable(this, 'Kernel', textSort)" href="#">Kernel</a></th>
		
		<th><a onclick="return sortTable(this, 'Title', textSort)" href="#">Title</a></th>
		<th><a onclick="return sortTable(this, 'Repro', reproSort)" href="#">Repro</a></th>
		<th><a onclick="return sortTable(this, 'Cause bisect', textSort)" href="#">Cause bisect</a></th>
		<th><a onclick="return sortTable(this, 'Fix bisect', textSort)" href="#">Fix bisect</a></th>
		<th><a onclick="return sortTable(this, 'Count', numSort)" href="#">Count</a></th>
		<th><a onclick="return sortTable(this, 'Last', timeSort)" href="#">Last</a></th>
		<th><a onclick="return sortTable(this, 'Reported', timeSort)" href="#">Reported</a></th>
		
		
		
			<th><a onclick="return sortTable(this, 'Patched', patchedSort)" href="#">Patched</a></th>
		
		
			<th><a onclick="return sortTable(this, 'Status', textSort)" href="#">Status</a></th>
		
		
	</tr>
	</thead>
	<tbody>
	
		<tr>
			<td>upstream</td>
			<td class="title">
				<a href="/bug?id=c90eb9e17cfb3323bd5b74a7621eaa04940dda50">KASAN: slab-use-after-free Read in drm_atomic_helper_wait_for_vblanks</a>
					<span class="bug-label"><a href="/upstream/s/dri">dri</a></span>
			</td>
			<td class="stat"></td>
			<td class="bisect_status"></td>
			<td class="bisect_status"></td>
			<td class="stat ">2</td>
			<td class="stat">510d</td>
			<td class="stat">
				
					<a href="https://groups.google.com/d/msgid/syzkaller-bugs/000000000000c7594f06001d2087%40google.com">604d</a>
				
			</td>
			
			
			
				<td class="patched" >0/28</td>
			
			
				<td class="status">
					
						<a href="https://groups.google.com/d/msgid/syzkaller-bugs/000000000000c7594f06001d2087%40google.com">auto-obsoleted due to no activity on 2024/01/20 05:42</a>
					
				</td>
			
			
		</tr>
	
	</tbody>
</table>



			
			
			
			
		</div>
	</div>
	
	<div class="collapsible collapsible-hide">
		<div class="head">
			<span class="show-icon">&#9654;</span>
			<span class="hide-icon">&#9660;</span>
			<span>Last patch testing requests (13)</span>
		</div>
		<div class="content">
			
			

	<table class="list_table">
		<caption id="jobs"><a class="plain" href="#jobs"></a></caption>
		<thead>
		<tr>
			
			<th>Created</th>
			<th>Duration</th>
			<th>User</th>
			<th>Patch</th>
			<th>Repo</th>
			
			<th>Result</th>
		</tr>
		</thead>
		<tbody>
		
			<tr>
				
				<td class="time">2025/02/19 09:29</td>
				<td class="time" title="started: 2025/02/19 09:29&#013;finished: 2025/02/19 09:44">
					14m
				</td>
				<td>
					
						retest repro
					
				</td>
				<td></td>
				<td class="kernel" title="upstream"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=6537cfb395f352782918d8ee7b7f10ba2cc3cbf2">upstream</a></td>
				
				<td class="result">
					
						<a href="https://syzkaller.appspot.com/x/report.txt?x=113b1ae4580000">report</a>
					
					
					
						<a href="https://syzkaller.appspot.com/x/log.txt?x=163b1ae4580000">log</a>
					
					
					
				</td>
			</tr>
		
			<tr>
				
				<td class="time">2025/02/04 19:24</td>
				<td class="time" title="started: 2025/02/04 19:24&#013;finished: 2025/02/04 19:51">
					26m
				</td>
				<td>
					
						retest repro
					
				</td>
				<td></td>
				<td class="kernel" title="upstream"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5c8c229261f14159b54b9a32f12e5fa89d88b905">upstream</a></td>
				
				<td class="result">
					
						<a href="https://syzkaller.appspot.com/x/report.txt?x=102cdd18580000">report</a>
					
					
					
						<a href="https://syzkaller.appspot.com/x/log.txt?x=17ccdd18580000">log</a>
					
					
					
				</td>
			</tr>
		
			<tr>
				
				<td class="time">2024/12/11 09:03</td>
				<td class="time" title="started: 2024/12/11 09:03&#013;finished: 2024/12/11 09:16">
					12m
				</td>
				<td>
					
						retest repro
					
				</td>
				<td></td>
				<td class="kernel" title="upstream"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=f92f4749861b06fed908d336b4dee1326003291b">upstream</a></td>
				
				<td class="result">
					
						<a href="https://syzkaller.appspot.com/x/report.txt?x=16a6ccdf980000">report</a>
					
					
					
						<a href="https://syzkaller.appspot.com/x/log.txt?x=12a6ccdf980000">log</a>
					
					
					
				</td>
			</tr>
		
			<tr>
				
				<td class="time">2024/11/26 19:05</td>
				<td class="time" title="started: 2024/11/26 19:05&#013;finished: 2024/11/26 19:18">
					12m
				</td>
				<td>
					
						retest repro
					
				</td>
				<td></td>
				<td class="kernel" title="upstream"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=7eef7e306d3c40a0c5b9ff6adc9b273cc894dbd5">upstream</a></td>
				
				<td class="result">
					
						<a href="https://syzkaller.appspot.com/x/report.txt?x=136c4f5f980000">report</a>
					
					
					
						<a href="https://syzkaller.appspot.com/x/log.txt?x=156c4f5f980000">log</a>
					
					
					
				</td>
			</tr>
		
			<tr>
				
				<td class="time">2024/10/02 08:37</td>
				<td class="time" title="started: 2024/10/02 08:37&#013;finished: 2024/10/02 08:49">
					12m
				</td>
				<td>
					
						retest repro
					
				</td>
				<td></td>
				<td class="kernel" title="upstream"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=e32cde8d2bd7d251a8f9b434143977ddf13dcec6">upstream</a></td>
				
				<td class="result">
					
						<a href="https://syzkaller.appspot.com/x/report.txt?x=1691539f980000">report</a>
					
					
					
						<a href="https://syzkaller.appspot.com/x/log.txt?x=1291539f980000">log</a>
					
					
					
				</td>
			</tr>
		
			<tr>
				
				<td class="time">2024/07/16 15:39</td>
				<td class="time" title="started: 2024/07/16 15:39&#013;finished: 2024/07/16 15:57">
					17m
				</td>
				<td>
					
						retest repro
					
				</td>
				<td></td>
				<td class="kernel" title="upstream"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=d67978318827d06f1c0fa4c31343a279e9df6fde">upstream</a></td>
				
				<td class="result">
					
						<a href="https://syzkaller.appspot.com/x/report.txt?x=16607d9e980000">report</a>
					
					
					
						<a href="https://syzkaller.appspot.com/x/log.txt?x=12607d9e980000">log</a>
					
					
					
				</td>
			</tr>
		
			<tr>
				
				<td class="time">2024/05/07 15:00</td>
				<td class="time" title="started: 2024/05/07 15:00&#013;finished: 2024/05/07 15:17">
					16m
				</td>
				<td>
					
						retest repro
					
				</td>
				<td></td>
				<td class="kernel" title="upstream"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=dccb07f2914cdab2ac3a5b6c98406f765acab803">upstream</a></td>
				
				<td class="result">
					
						<a href="https://syzkaller.appspot.com/x/report.txt?x=110bfb2f180000">report</a>
					
					
					
						<a href="https://syzkaller.appspot.com/x/log.txt?x=160bfb2f180000">log</a>
					
					
					
				</td>
			</tr>
		
			<tr>
				
				<td class="time">2024/02/27 14:36</td>
				<td class="time" title="started: 2024/02/27 14:36&#013;finished: 2024/02/27 14:52">
					16m
				</td>
				<td>
					
						retest repro
					
				</td>
				<td></td>
				<td class="kernel" title="upstream"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=45ec2f5f6ed3ec3a79ba1329ad585497cdcbe663">upstream</a></td>
				
				<td class="result">
					
						<a href="https://syzkaller.appspot.com/x/report.txt?x=17a9d254180000">report</a>
					
					
					
						<a href="https://syzkaller.appspot.com/x/log.txt?x=13a9d254180000">log</a>
					
					
					
				</td>
			</tr>
		
			<tr>
				
				<td class="time">2024/02/15 10:15</td>
				<td class="time" title="started: 2024/02/15 10:15&#013;finished: 2024/02/15 10:38">
					23m
				</td>
				<td>
					
						eadavis@qq.com
					
				</td>
				<td><a href="/text?tag=Patch&x=167a4410180000">patch</a></td>
				<td class="kernel" title="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git master"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=8d3dea210042f54b952b481838c1e7dfc4ec751d">https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git master</a></td>
				
				<td class="result">
					
						OK
						
					
					
					
						<a href="https://syzkaller.appspot.com/x/log.txt?x=161f04d0180000">log</a>
					
					
					
				</td>
			</tr>
		
			<tr>
				
				<td class="time">2024/02/14 11:19</td>
				<td class="time" title="started: 2024/02/14 11:19&#013;finished: 2024/02/14 11:54">
					34m
				</td>
				<td>
					
						hdanton@sina.com
					
				</td>
				<td><a href="/text?tag=Patch&x=12fa241c180000">patch</a></td>
				<td class="kernel" title="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git master"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=7e90b5c295ec1e47c8ad865429f046970c549a66">https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git master</a></td>
				
				<td class="result">
					
						OK
						
					
					
					
						<a href="https://syzkaller.appspot.com/x/log.txt?x=1790f698180000">log</a>
					
					
					
				</td>
			</tr>
		
			<tr>
				
				<td class="time">2024/02/14 07:02</td>
				<td class="time" title="started: 2024/02/14 07:02&#013;finished: 2024/02/14 07:25">
					23m
				</td>
				<td>
					
						hdanton@sina.com
					
				</td>
				<td><a href="/text?tag=Patch&x=1247ec62180000">patch</a></td>
				<td class="kernel" title="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git master"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=7e90b5c295ec1e47c8ad865429f046970c549a66">https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git master</a></td>
				
				<td class="result">
					
						<a href="https://syzkaller.appspot.com/x/error.txt?x=1395d592180000">error</a>
					
					
					
					
					
				</td>
			</tr>
		
			<tr>
				
				<td class="time">2024/02/14 03:39</td>
				<td class="time" title="started: 2024/02/14 03:40&#013;finished: 2024/02/14 03:54">
					14m
				</td>
				<td>
					
						hdanton@sina.com
					
				</td>
				<td><a href="/text?tag=Patch&x=14fc6742180000">patch</a></td>
				<td class="kernel" title="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git master"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=7e90b5c295ec1e47c8ad865429f046970c549a66">https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git master</a></td>
				
				<td class="result">
					
						<a href="https://syzkaller.appspot.com/x/report.txt?x=13228d14180000">report</a>
					
					
					
						<a href="https://syzkaller.appspot.com/x/log.txt?x=15228d14180000">log</a>
					
					
					
				</td>
			</tr>
		
			<tr>
				
				<td class="time">2024/02/14 01:33</td>
				<td class="time" title="started: 2024/02/14 01:33&#013;finished: 2024/02/14 02:00">
					27m
				</td>
				<td>
					
						hdanton@sina.com
					
				</td>
				<td><a href="/text?tag=Patch&x=10c28d14180000">patch</a></td>
				<td class="kernel" title="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git master"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=7e90b5c295ec1e47c8ad865429f046970c549a66">https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git master</a></td>
				
				<td class="result">
					
						<a href="https://syzkaller.appspot.com/x/error.txt?x=16112678180000">error</a>
					
					
					
					
					
				</td>
			</tr>
		
		</tbody>
	</table>


			
			
			
		</div>
	</div>
	

	
	<br><b>Sample crash report:</b><br>
	<div id="crash_div"><pre>==================================================================
BUG: KASAN: slab-use-after-free in drm_atomic_helper_wait_for_vblanks.part.0+0x851/0x930 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1662'>drivers/gpu/drm/drm_atomic_helper.c:1662</a>
Read of size 1 at addr ffff888035333809 by task kworker/u32:1/12

CPU: 0 UID: 0 PID: 12 Comm: kworker/u32:1 Not tainted 6.12.0-rc7-syzkaller #0
Hardware name: QEMU Standard PC (Q35 + ICH9, 2009), BIOS 1.16.3-debian-1.16.3-2~bpo12+1 04/01/2014
Workqueue: events_unbound commit_work
Call Trace:
 &lt;TASK&gt;
 __dump_stack <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/lib/dump_stack.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n94'>lib/dump_stack.c:94</a> [inline]
 dump_stack_lvl+0x116/0x1f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/lib/dump_stack.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n120'>lib/dump_stack.c:120</a>
 print_address_description <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/report.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n377'>mm/kasan/report.c:377</a> [inline]
 print_report+0xc3/0x620 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/report.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n488'>mm/kasan/report.c:488</a>
 kasan_report+0xd9/0x110 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/report.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n601'>mm/kasan/report.c:601</a>
 drm_atomic_helper_wait_for_vblanks.part.0+0x851/0x930 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1662'>drivers/gpu/drm/drm_atomic_helper.c:1662</a>
 drm_atomic_helper_wait_for_vblanks <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1658'>drivers/gpu/drm/drm_atomic_helper.c:1658</a> [inline]
 drm_atomic_helper_commit_tail+0xcb/0xf0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1758'>drivers/gpu/drm/drm_atomic_helper.c:1758</a>
 commit_tail+0x353/0x400 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1835'>drivers/gpu/drm/drm_atomic_helper.c:1835</a>
 process_one_work+0x9c5/0x1ba0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/workqueue.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3229'>kernel/workqueue.c:3229</a>
 process_scheduled_works <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/workqueue.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3310'>kernel/workqueue.c:3310</a> [inline]
 worker_thread+0x6c8/0xf00 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/workqueue.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3391'>kernel/workqueue.c:3391</a>
 kthread+0x2c1/0x3a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/kthread.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n389'>kernel/kthread.c:389</a>
 ret_from_fork+0x45/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kernel/process.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n147'>arch/x86/kernel/process.c:147</a>
 ret_from_fork_asm+0x1a/0x30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/entry_64.S?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n244'>arch/x86/entry/entry_64.S:244</a>
 &lt;/TASK&gt;

Allocated by task 6825:
 kasan_save_stack+0x33/0x60 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/common.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n47'>mm/kasan/common.c:47</a>
 kasan_save_track+0x14/0x30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/common.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n68'>mm/kasan/common.c:68</a>
 poison_kmalloc_redzone <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/common.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n377'>mm/kasan/common.c:377</a> [inline]
 __kasan_kmalloc+0xaa/0xb0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/common.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n394'>mm/kasan/common.c:394</a>
 kmalloc_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/slab.h?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n878'>include/linux/slab.h:878</a> [inline]
 drm_atomic_helper_crtc_duplicate_state+0x70/0xd0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic_state_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n177'>drivers/gpu/drm/drm_atomic_state_helper.c:177</a>
 drm_atomic_get_crtc_state+0x162/0x440 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n360'>drivers/gpu/drm/drm_atomic.c:360</a>
 page_flip_common+0x57/0x320 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3631'>drivers/gpu/drm/drm_atomic_helper.c:3631</a>
 drm_atomic_helper_page_flip+0xb6/0x180 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3692'>drivers/gpu/drm/drm_atomic_helper.c:3692</a>
 drm_mode_page_flip_ioctl+0x1044/0x1470 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_plane.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1516'>drivers/gpu/drm/drm_plane.c:1516</a>
 drm_ioctl_kernel+0x1e6/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_ioctl.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n745'>drivers/gpu/drm/drm_ioctl.c:745</a>
 drm_ioctl+0x5d6/0xc00 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_ioctl.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n842'>drivers/gpu/drm/drm_ioctl.c:842</a>
 vfs_ioctl <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n51'>fs/ioctl.c:51</a> [inline]
 __do_sys_ioctl <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n907'>fs/ioctl.c:907</a> [inline]
 __se_sys_ioctl <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n893'>fs/ioctl.c:893</a> [inline]
 __x64_sys_ioctl+0x18f/0x220 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n893'>fs/ioctl.c:893</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/common.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xcd/0x250 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/common.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f

Freed by task 6825:
 kasan_save_stack+0x33/0x60 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/common.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n47'>mm/kasan/common.c:47</a>
 kasan_save_track+0x14/0x30 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/common.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n68'>mm/kasan/common.c:68</a>
 kasan_save_free_info+0x3b/0x60 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/generic.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n579'>mm/kasan/generic.c:579</a>
 poison_slab_object <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/common.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n247'>mm/kasan/common.c:247</a> [inline]
 __kasan_slab_free+0x51/0x70 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/common.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n264'>mm/kasan/common.c:264</a>
 kasan_slab_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/kasan.h?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n230'>include/linux/kasan.h:230</a> [inline]
 slab_free_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n2342'>mm/slub.c:2342</a> [inline]
 slab_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n4579'>mm/slub.c:4579</a> [inline]
 kfree+0x14f/0x4b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n4727'>mm/slub.c:4727</a>
 drm_atomic_state_default_clear+0x43c/0xe00 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n224'>drivers/gpu/drm/drm_atomic.c:224</a>
 drm_atomic_state_clear <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n293'>drivers/gpu/drm/drm_atomic.c:293</a> [inline]
 __drm_atomic_state_free+0x185/0x2b0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n310'>drivers/gpu/drm/drm_atomic.c:310</a>
 kref_put <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/kref.h?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n65'>include/linux/kref.h:65</a> [inline]
 drm_atomic_state_put <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/drm/drm_atomic.h?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n538'>include/drm/drm_atomic.h:538</a> [inline]
 drm_client_modeset_commit_atomic+0x6c5/0x800 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_client_modeset.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1074'>drivers/gpu/drm/drm_client_modeset.c:1074</a>
 drm_client_modeset_commit_locked+0x14d/0x580 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_client_modeset.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1171'>drivers/gpu/drm/drm_client_modeset.c:1171</a>
 drm_client_modeset_commit+0x4f/0x80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_client_modeset.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1197'>drivers/gpu/drm/drm_client_modeset.c:1197</a>
 __drm_fb_helper_restore_fbdev_mode_unlocked <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_fb_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n237'>drivers/gpu/drm/drm_fb_helper.c:237</a> [inline]
 __drm_fb_helper_restore_fbdev_mode_unlocked <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_fb_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n216'>drivers/gpu/drm/drm_fb_helper.c:216</a> [inline]
 drm_fb_helper_restore_fbdev_mode_unlocked <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_fb_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n264'>drivers/gpu/drm/drm_fb_helper.c:264</a> [inline]
 drm_fb_helper_lastclose+0xc7/0x160 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_fb_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n2003'>drivers/gpu/drm/drm_fb_helper.c:2003</a>
 drm_fbdev_shmem_client_restore+0x2c/0x40 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_fbdev_shmem.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n229'>drivers/gpu/drm/drm_fbdev_shmem.c:229</a>
 drm_client_dev_restore+0x188/0x2a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_client.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n260'>drivers/gpu/drm/drm_client.c:260</a>
 drm_lastclose <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_file.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n391'>drivers/gpu/drm/drm_file.c:391</a> [inline]
 drm_release+0x2c2/0x360 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_file.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n424'>drivers/gpu/drm/drm_file.c:424</a>
 __fput+0x3f6/0xb60 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/file_table.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n431'>fs/file_table.c:431</a>
 __fput_sync+0x45/0x50 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/file_table.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n516'>fs/file_table.c:516</a>
 __do_sys_close <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/open.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1567'>fs/open.c:1567</a> [inline]
 __se_sys_close <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/open.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1552'>fs/open.c:1552</a> [inline]
 __x64_sys_close+0x86/0x100 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/open.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1552'>fs/open.c:1552</a>
 do_syscall_x64 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/common.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n52'>arch/x86/entry/common.c:52</a> [inline]
 do_syscall_64+0xcd/0x250 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/entry/common.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n83'>arch/x86/entry/common.c:83</a>
 entry_SYSCALL_64_after_hwframe+0x77/0x7f

The buggy address belongs to the object at ffff888035333800
 which belongs to the cache kmalloc-512 of size 512
The buggy address is located 9 bytes inside of
 freed 512-byte region [ffff888035333800, ffff888035333a00)

The buggy address belongs to the physical page:
page: refcount:1 mapcount:0 mapping:0000000000000000 index:0x0 pfn:0x35330
head: order:2 mapcount:0 entire_mapcount:0 nr_pages_mapped:0 pincount:0
flags: 0xfff00000000040(head|node=0|zone=1|lastcpupid=0x7ff)
page_type: f5(slab)
raw: 00fff00000000040 ffff88801b042c80 dead000000000122 0000000000000000
raw: 0000000000000000 0000000000100010 00000001f5000000 0000000000000000
head: 00fff00000000040 ffff88801b042c80 dead000000000122 0000000000000000
head: 0000000000000000 0000000000100010 00000001f5000000 0000000000000000
head: 00fff00000000002 ffffea0000d4cc01 ffffffffffffffff 0000000000000000
head: 0000000000000004 0000000000000000 00000000ffffffff 0000000000000000
page dumped because: kasan: bad access detected
page_owner tracks the page as allocated
page last allocated via order 2, migratetype Unmovable, gfp_mask 0xd20c0(__GFP_IO|__GFP_FS|__GFP_NOWARN|__GFP_NORETRY|__GFP_COMP|__GFP_NOMEMALLOC), pid 6819, tgid 6819 (syz-executor295), ts 49983907780, free_ts 49305885986
 set_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/page_owner.h?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n32'>include/linux/page_owner.h:32</a> [inline]
 post_alloc_hook+0x2d1/0x350 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/page_alloc.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1541'>mm/page_alloc.c:1541</a>
 prep_new_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/page_alloc.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1549'>mm/page_alloc.c:1549</a> [inline]
 get_page_from_freelist+0xfce/0x2f80 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/page_alloc.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3459'>mm/page_alloc.c:3459</a>
 __alloc_pages_noprof+0x223/0x25a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/page_alloc.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n4735'>mm/page_alloc.c:4735</a>
 alloc_pages_mpol_noprof+0x2c9/0x610 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/mempolicy.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n2265'>mm/mempolicy.c:2265</a>
 alloc_slab_page <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n2412'>mm/slub.c:2412</a> [inline]
 allocate_slab <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n2578'>mm/slub.c:2578</a> [inline]
 new_slab+0x2c9/0x410 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n2631'>mm/slub.c:2631</a>
 ___slab_alloc+0xdac/0x1880 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3818'>mm/slub.c:3818</a>
 __slab_alloc.constprop.0+0x56/0xb0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3908'>mm/slub.c:3908</a>
 __slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3961'>mm/slub.c:3961</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n4122'>mm/slub.c:4122</a> [inline]
 __kmalloc_cache_noprof+0x2b4/0x300 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n4290'>mm/slub.c:4290</a>
 kmalloc_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/slab.h?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n878'>include/linux/slab.h:878</a> [inline]
 kzalloc_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/slab.h?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1014'>include/linux/slab.h:1014</a> [inline]
 drm_atomic_helper_setup_commit+0x633/0x15e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n2288'>drivers/gpu/drm/drm_atomic_helper.c:2288</a>
 drm_atomic_helper_commit+0xa9/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n2023'>drivers/gpu/drm/drm_atomic_helper.c:2023</a>
 drm_atomic_nonblocking_commit+0x12c/0x190 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1545'>drivers/gpu/drm/drm_atomic.c:1545</a>
 drm_atomic_helper_page_flip+0xd2/0x180 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_atomic_helper.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3696'>drivers/gpu/drm/drm_atomic_helper.c:3696</a>
 drm_mode_page_flip_ioctl+0x1044/0x1470 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_plane.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1516'>drivers/gpu/drm/drm_plane.c:1516</a>
 drm_ioctl_kernel+0x1e6/0x3d0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_ioctl.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n745'>drivers/gpu/drm/drm_ioctl.c:745</a>
 drm_ioctl+0x5d6/0xc00 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_ioctl.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n842'>drivers/gpu/drm/drm_ioctl.c:842</a>
 vfs_ioctl <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n51'>fs/ioctl.c:51</a> [inline]
 __do_sys_ioctl <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n907'>fs/ioctl.c:907</a> [inline]
 __se_sys_ioctl <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n893'>fs/ioctl.c:893</a> [inline]
 __x64_sys_ioctl+0x18f/0x220 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/ioctl.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n893'>fs/ioctl.c:893</a>
page last free pid 6757 tgid 6757 stack trace:
 reset_page_owner <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/page_owner.h?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n25'>include/linux/page_owner.h:25</a> [inline]
 free_pages_prepare <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/page_alloc.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1112'>mm/page_alloc.c:1112</a> [inline]
 free_unref_page+0x5f4/0xdc0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/page_alloc.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n2642'>mm/page_alloc.c:2642</a>
 __put_partials+0x14c/0x170 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3145'>mm/slub.c:3145</a>
 qlink_free <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/quarantine.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n163'>mm/kasan/quarantine.c:163</a> [inline]
 qlist_free_all+0x4e/0x120 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/quarantine.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n179'>mm/kasan/quarantine.c:179</a>
 kasan_quarantine_reduce+0x192/0x1e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/quarantine.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n286'>mm/kasan/quarantine.c:286</a>
 __kasan_slab_alloc+0x69/0x90 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/kasan/common.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n329'>mm/kasan/common.c:329</a>
 kasan_slab_alloc <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/kasan.h?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n247'>include/linux/kasan.h:247</a> [inline]
 slab_post_alloc_hook <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n4085'>mm/slub.c:4085</a> [inline]
 slab_alloc_node <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n4134'>mm/slub.c:4134</a> [inline]
 __kmalloc_cache_noprof+0x11e/0x300 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/mm/slub.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n4290'>mm/slub.c:4290</a>
 kmalloc_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/slab.h?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n878'>include/linux/slab.h:878</a> [inline]
 kzalloc_noprof <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/include/linux/slab.h?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1014'>include/linux/slab.h:1014</a> [inline]
 drm_file_alloc+0x74/0x9a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_file.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n137'>drivers/gpu/drm/drm_file.c:137</a>
 drm_open_helper+0x202/0x540 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_file.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n318'>drivers/gpu/drm/drm_file.c:318</a>
 drm_open+0x1a0/0x3e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_file.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n371'>drivers/gpu/drm/drm_file.c:371</a>
 drm_stub_open+0x20c/0x380 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/drm_drv.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1049'>drivers/gpu/drm/drm_drv.c:1049</a>
 chrdev_open+0x237/0x6a0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/char_dev.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n414'>fs/char_dev.c:414</a>
 do_dentry_open+0x6ca/0x1530 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/open.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n958'>fs/open.c:958</a>
 vfs_open+0x82/0x3f0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/open.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1088'>fs/open.c:1088</a>
 do_open <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/namei.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3774'>fs/namei.c:3774</a> [inline]
 path_openat+0x1e6a/0x2d60 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/namei.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3933'>fs/namei.c:3933</a>
 do_filp_open+0x1dc/0x430 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/namei.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n3960'>fs/namei.c:3960</a>
 do_sys_openat2+0x17a/0x1e0 <a href='https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/tree/fs/open.c?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623#n1415'>fs/open.c:1415</a>

Memory state around the buggy address:
 ffff888035333700: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
 ffff888035333780: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
&gt;ffff888035333800: fa fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
                      ^
 ffff888035333880: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
 ffff888035333900: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
==================================================================
</pre></div><br>
	

	

<table class="list_table">
	<caption>Crashes (5):</caption>
		<thead>
		<tr>
			<th><a onclick="return sortTable(this, 'Time', textSort, true)" href="#">Time</a></th>
			<th><a onclick="return sortTable(this, 'Kernel', textSort)" href="#">Kernel</a></th>
			<th><a onclick="return sortTable(this, 'Commit', textSort)" href="#">Commit</a></th>
			<th><a onclick="return sortTable(this, 'Syzkaller', textSort)" href="#">Syzkaller</a></th>
			<th><a onclick="return sortTable(this, 'Config', textSort)" href="#">Config</a></th>
			<th><a onclick="return sortTable(this, 'Log', textSort)" href="#">Log</a></th>
			<th><a onclick="return sortTable(this, 'Report', reproSort)" href="#">Report</a></th>
			<th><a onclick="return sortTable(this, 'Syz repro', reproSort)" href="#">Syz repro</a></th>
			<th><a onclick="return sortTable(this, 'C repro', textSort)" href="#">C repro</a></th>
			<th><a onclick="return sortTable(this, 'VM info', textSort)" href="#">VM info</a></th>
			<th><a onclick="return sortTable(this, 'Assets', textSort)" href="#">Assets</a> (<a href="https://github.com/google/syzkaller/blob/master/docs/syzbot_assets.md">help?</a>)</th>
			<th><a onclick="return sortTable(this, 'Manager', textSort)" href="#">Manager</a></th>
			<th><a onclick="return sortTable(this, 'Title', textSort)" href="#">Title</a></th>
		</tr>
		</thead>
		<tbody>
		
		<tr>
			<td class="time">2024/11/12 18:36</td>
			<td class="kernel" title="upstream">upstream</td>
			<td class="tag" title="2d5404caa8c7bb5c4e0435f94b28834ae5456623
	2024/11/10 22:19"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=2d5404caa8c7bb5c4e0435f94b28834ae5456623">2d5404caa8c7</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/c819f2276e0861eaf83d155441072013ec914f3c">c819f227</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=327b6119dd928cbc">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=1090735f980000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=15fa0130580000">report</a></td>
			<td class="repro">
				<a href="/text?tag=ReproSyz&amp;x=1490735f980000">syz</a>
				 / <a href="/text?tag=ReproLog&amp;x=106701a7980000">log</a>
			</td>
			<td class="repro"><a href="/text?tag=ReproC&amp;x=13fa0130580000">C</a></td>
			<td class="repro"></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/7feb34a89c2a/non_bootable_disk-2d5404ca.raw.xz">disk image (non-bootable)</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/1bbbfa50cb5f/vmlinux-2d5404ca.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/a5bcdede1c8a/bzImage-2d5404ca.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-qemu-upstream</td>
			<td class="manager">KASAN: slab-use-after-free Read in drm_atomic_helper_wait_for_vblanks</td>
		</tr>
		
		<tr>
			<td class="time">2024/02/13 14:07</td>
			<td class="kernel" title="upstream">upstream</td>
			<td class="tag" title="c664e16bb1ba1c8cf1d7ecf3df5fd83bbb8ac15a
	2024/02/12 22:11"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=c664e16bb1ba1c8cf1d7ecf3df5fd83bbb8ac15a">c664e16bb1ba</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/e66542d78f1cf0c783877440cd239a11fb73fb15">e66542d7</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=df82262440d95bc4">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=14f8d1e0180000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=1592b500180000">report</a></td>
			<td class="repro">
				<a href="/text?tag=ReproSyz&amp;x=1086cd48180000">syz</a>
				
			</td>
			<td class="repro"><a href="/text?tag=ReproC&amp;x=11fcdba2180000">C</a></td>
			<td class="repro"></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-c664e16b.raw.xz">disk image (non-bootable)</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/c838390fdb6c/vmlinux-c664e16b.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/d25123cb1896/bzImage-c664e16b.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-qemu-upstream</td>
			<td class="manager">KASAN: slab-use-after-free Read in drm_atomic_helper_wait_for_vblanks</td>
		</tr>
		
		<tr>
			<td class="time">2024/02/11 07:59</td>
			<td class="kernel" title="upstream">upstream</td>
			<td class="tag" title="a5b6244cf87c50358f5562b8f07f7ac35fc7f6b0
	2024/02/10 16:02"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=a5b6244cf87c50358f5562b8f07f7ac35fc7f6b0">a5b6244cf87c</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/77b23aa147a898d1e1912a5f01e6716bbdc3a59e">77b23aa1</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=53985487b59d9442">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=15e9ad50180000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=1164bd48180000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=e9133e5cdd8c2f02">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-a5b6244c.raw.xz">disk image (non-bootable)</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/08ca7654741a/vmlinux-a5b6244c.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/0396d079aa1e/bzImage-a5b6244c.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-qemu-upstream</td>
			<td class="manager">KASAN: slab-use-after-free Read in drm_atomic_helper_wait_for_vblanks</td>
		</tr>
		
		<tr>
			<td class="time">2024/12/25 08:37</td>
			<td class="kernel" title="upstream">upstream</td>
			<td class="tag" title="9b2ffa6148b1e4468d08f7e0e7e371c43cac9ffe
	2024/12/24 17:08"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=9b2ffa6148b1e4468d08f7e0e7e371c43cac9ffe">9b2ffa6148b1</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/444551c40edde85b5e4900ae27d432bd1da7079c">444551c4</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=c078001e66e4a17e">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=10640018580000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=108f6adf980000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=e0aab92ffdccf437">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/7feb34a89c2a/non_bootable_disk-9b2ffa61.raw.xz">disk image (non-bootable)</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/3bcb43c77ce7/vmlinux-9b2ffa61.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/ef51b0b811d5/bzImage-9b2ffa61.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-qemu-upstream-386</td>
			<td class="manager">KASAN: slab-use-after-free Read in drm_atomic_helper_wait_for_vblanks</td>
		</tr>
		
		<tr>
			<td class="time">2024/09/18 08:27</td>
			<td class="kernel" title="upstream">upstream</td>
			<td class="tag" title="a430d95c5efa2b545d26a094eb5f624e36732af0
	2024/09/16 16:19"><a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/log/?id=a430d95c5efa2b545d26a094eb5f624e36732af0">a430d95c5efa</a></td>
			<td class="tag"><a href="https://github.com/google/syzkaller/commits/c673ca06b23cea94091ab496ef62c3513e434585">c673ca06</a></td>
			<td class="config"><a href="/text?tag=KernelConfig&amp;x=a69c66e868285a9d">.config</a></td>
			<td class="repro"><a href="/text?tag=CrashLog&amp;x=16abbfc7980000">console log</a></td>
			<td class="repro"><a href="/text?tag=CrashReport&amp;x=17dd9207980000">report</a></td>
			<td class="repro">
				
				
			</td>
			<td class="repro"></td>
			<td class="repro"><a href="/text?tag=MachineInfo&amp;x=9004d42e11b4d17">info</a></td>
			<td class="assets">
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/7bc7510fe41f/non_bootable_disk-a430d95c.raw.xz">disk image (non-bootable)</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/7c522024ada4/vmlinux-a430d95c.xz">vmlinux</a>]</span>
			
				<span class="no-break">[<a href="https://storage.googleapis.com/syzbot-assets/b20faf992428/bzImage-a430d95c.xz">kernel image</a>]</span>
			</td>
			<td class="manager">ci-qemu-upstream-386</td>
			<td class="manager">KASAN: slab-use-after-free Read in drm_atomic_helper_wait_for_vblanks</td>
		</tr>
		
		</tbody>
</table>
<i>* <s>Struck through</s> repros no longer work on HEAD.</i>


</body>
</html>
